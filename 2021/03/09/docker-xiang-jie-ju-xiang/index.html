<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#4e72b8"><meta name="author" content="Â§© Âê¨"><meta name="copyright" content="Â§© Âê¨"><meta name="generator" content="Hexo 5.3.0"><meta name="theme" content="hexo-theme-yun"><title>DockerËØ¶Ëß£(Â∑®ËØ¶) | Â§©Âê¨„ÅÆblog</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.22/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_ed8vp4atwoj.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link rel="shortcut icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#4e72b8"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"godhearing.cn","root":"/","title":["Â§©","Âê¨","„ÅÆ","blog"],"version":"1.4.0","mode":"auto","copycode":true,"page":{"isPost":true},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"/data/sentences.json"},"local_search":{"path":"/search.xml"},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><link rel="alternate" href="/atom.xml" title="Â§©Âê¨„ÅÆblog" type="application/atom+xml"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap"><meta name="description" content="DockerÊ†∏ÂøÉÊ¶ÇÂøµÈïúÂÉè   Á±ª‰ºº‰∫éËôöÊãüÊú∫ÈïúÂÉè„ÄÅÊàñËÄÖÊòØÈù¢ÂØπÂØπË±°ÈáåÁöÑ‚ÄùÁ±ª‚Äù„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™ÈïúÂÉèÂèØ‰ª•ÂåÖÂê´‰∏Ä‰∏™Âü∫Êú¨ÁöÑÊìç‰ΩúÁ≥ªÁªüÁéØÂ¢ÉÔºåÈáåÈù¢‰ªÖÂÆâË£ÖApacheÔºåÂ∞±ÂèØ‰ª•ÊääÂÆÉÁß∞‰∏∫ApacheÈïúÂÉèÔºåÈïúÂÉèÊòØÂàõÂª∫ docker ÂÆπÂô®ÁöÑÂü∫Á°Ä„ÄÇ   Ê≥®ÊÑèÔºöÈïúÂÉèËá™Ë∫´ÊòØÂè™ËØªÁöÑÔºåÂÆπÂô®‰ªéÈïúÂÉèÂêØÂä®ÁöÑÊó∂ÂÄôÔºå‰ºöÂú®ÈïúÂÉèÁöÑÊúÄ‰∏äÂ±ÇÂàõÂª∫‰∏Ä‰∏™ÂèØÂÜôÂ±Ç„ÄÇ  ÂÆπÂô®   Á±ª‰ºº‰∫é‰∏Ä‰∏™ËΩªÈáèÁ∫ßÁöÑÊ≤ôÁÆ±ÔºåÊàñËÄÖÊòØÈù¢ÂØπÂØπË±°ÈáåÁöÑ ‚ÄúÂØπË±°‚Äù„ÄÇ docker  Âà©Áî®ÂÆπÂô®Êù•ËøêË°åÂíåÈöî">
<meta property="og:type" content="article">
<meta property="og:title" content="DockerËØ¶Ëß£(Â∑®ËØ¶)">
<meta property="og:url" content="http://godhearing.cn/2021/03/09/docker-xiang-jie-ju-xiang/index.html">
<meta property="og:site_name" content="Â§©Âê¨„ÅÆblog">
<meta property="og:description" content="DockerÊ†∏ÂøÉÊ¶ÇÂøµÈïúÂÉè   Á±ª‰ºº‰∫éËôöÊãüÊú∫ÈïúÂÉè„ÄÅÊàñËÄÖÊòØÈù¢ÂØπÂØπË±°ÈáåÁöÑ‚ÄùÁ±ª‚Äù„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™ÈïúÂÉèÂèØ‰ª•ÂåÖÂê´‰∏Ä‰∏™Âü∫Êú¨ÁöÑÊìç‰ΩúÁ≥ªÁªüÁéØÂ¢ÉÔºåÈáåÈù¢‰ªÖÂÆâË£ÖApacheÔºåÂ∞±ÂèØ‰ª•ÊääÂÆÉÁß∞‰∏∫ApacheÈïúÂÉèÔºåÈïúÂÉèÊòØÂàõÂª∫ docker ÂÆπÂô®ÁöÑÂü∫Á°Ä„ÄÇ   Ê≥®ÊÑèÔºöÈïúÂÉèËá™Ë∫´ÊòØÂè™ËØªÁöÑÔºåÂÆπÂô®‰ªéÈïúÂÉèÂêØÂä®ÁöÑÊó∂ÂÄôÔºå‰ºöÂú®ÈïúÂÉèÁöÑÊúÄ‰∏äÂ±ÇÂàõÂª∫‰∏Ä‰∏™ÂèØÂÜôÂ±Ç„ÄÇ  ÂÆπÂô®   Á±ª‰ºº‰∫é‰∏Ä‰∏™ËΩªÈáèÁ∫ßÁöÑÊ≤ôÁÆ±ÔºåÊàñËÄÖÊòØÈù¢ÂØπÂØπË±°ÈáåÁöÑ ‚ÄúÂØπË±°‚Äù„ÄÇ docker  Âà©Áî®ÂÆπÂô®Êù•ËøêË°åÂíåÈöî">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-03-09T08:54:48.361Z">
<meta property="article:modified_time" content="2021-03-09T10:29:06.783Z">
<meta property="article:author" content="Â§© Âê¨">
<meta property="article:tag" content="Docker">
<meta name="twitter:card" content="summary"><script src="/js/ui/mode.js"></script>
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><canvas id="trianglifyContainer"></canvas><script defer src="https://cdn.jsdelivr.net/npm/trianglify@4/dist/trianglify.bundle.js"></script><script>document.addEventListener("DOMContentLoaded", () => {
  const pattern = trianglify({
    width: 800,
    height: 600,
    cellSize: 65,
    palette: ["YlGnBu", "GnBu", "Purples", "Blues","Reds","Oranges"],
  });
  const canvasOpts = {
    applyCssScaling: false
  }
  document.body.appendChild(pattern.toCanvas(trianglifyContainer, canvasOpts));
});</script><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info mickey-mouse"><a class="site-author-avatar" href="/about/" title="Â§© Âê¨"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="Â§© Âê¨"><span class="site-author-status" title="ÊòéÂ§©ÔºåÂè™ÊòØ‰∏Ä‰∏™Â∏åÊúõÔºå‰∏çÊòØ‰∏Ä‰∏™ÊâøËØ∫">üòä</span></a><div class="site-author-name"><a href="/about/">Â§© Âê¨</a></div><a class="site-name" href="/about/site.html">Â§©Âê¨„ÅÆblog</a><sub class="site-subtitle">Â§©Âê¨</sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">73</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">22</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">32</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://www.baidu.com/" title="ÈÄöÂêë‰∏Ä‰∏™‰∏á‰∫ãÈÉΩËÉΩËß£ÂÜ≥ÁöÑÂú∞Êñπ"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://qm.qq.com/cgi-bin/qm/qr?k=epvxdq1sknJe9JMj6J1LsBw4a6cI_2ln&amp;jump_from=webapi" title="QQÈÇÆ‰ª∂Âú∞ÂùÄ" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/God-hearing2020" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=247102977" title="ÁΩëÊòì‰∫ëÈü≥‰πê" target="_blank" style="color:#C20C0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://twitter.com/godhearing1" title="Twitter" target="_blank" style="color:#1da1f2"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-twitter-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://haoye0822@gmail.com" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="ÊàëÁöÑÂ∞è‰ºô‰º¥‰ª¨" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a><a class="links-item hty-icon-button" href="/girls/" title="ÊàëÊúÄÂñúÊ¨¢ÁöÑÊòéÊòü" style="color:hotpink"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-women-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Docker"><span class="toc-number">1.</span> <span class="toc-text">Docker</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="toc-number">1.1.</span> <span class="toc-text">Ê†∏ÂøÉÊ¶ÇÂøµ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%95%9C%E5%83%8F"><span class="toc-number">1.1.1.</span> <span class="toc-text">ÈïúÂÉè</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8"><span class="toc-number">1.1.2.</span> <span class="toc-text">ÂÆπÂô®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%93%E5%BA%93"><span class="toc-number">1.1.3.</span> <span class="toc-text">‰ªìÂ∫ì</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE"><span class="toc-number">1.2.</span> <span class="toc-text">ÂÆâË£ÖÂèäÈÖçÁΩÆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4"><span class="toc-number">1.3.</span> <span class="toc-text">Âü∫Á°ÄÂëΩ‰ª§</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%93%E5%BA%93%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">1.4.</span> <span class="toc-text">‰ªìÂ∫ìÁÆ°ÁêÜÂëΩ‰ª§</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%95%9C%E5%83%8F%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">1.5.</span> <span class="toc-text">ÈïúÂÉèÁÆ°ÁêÜÂëΩ‰ª§</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">1.6.</span> <span class="toc-text">ÂÆπÂô®ÁÆ°ÁêÜÂëΩ‰ª§</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86"><span class="toc-number">1.6.1.</span> <span class="toc-text">ÁîüÂëΩÂë®ÊúüÁÆ°ÁêÜ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">1.6.2.</span> <span class="toc-text">ÂÆπÂô®Êìç‰Ωú</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8rootfs"><span class="toc-number">1.6.3.</span> <span class="toc-text">ÂÆπÂô®rootfs</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">1.7.</span> <span class="toc-text">ÁΩëÁªúÁÆ°ÁêÜÂëΩ‰ª§</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#docker-network"><span class="toc-number">1.7.1.</span> <span class="toc-text">docker  network</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Dockerfile"><span class="toc-number">2.</span> <span class="toc-text">Dockerfile</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%84%E5%BB%BA%E5%91%BD%E4%BB%A4"><span class="toc-number">2.1.</span> <span class="toc-text">ÊûÑÂª∫ÂëΩ‰ª§</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E8%A7%84%E5%88%99"><span class="toc-number">2.2.</span> <span class="toc-text">ËØ≠Ê≥ïËßÑÂàô</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="toc-number">2.3.</span> <span class="toc-text">Á§∫‰æã</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Docker-compose"><span class="toc-number">3.</span> <span class="toc-text">Docker-compose</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E8%A7%84%E5%88%99-1"><span class="toc-number">3.1.</span> <span class="toc-text">ËØ≠Ê≥ïËßÑÂàô</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">3.2.</span> <span class="toc-text">Â∏∏Áî®ÂëΩ‰ª§</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-1"><span class="toc-number">3.3.</span> <span class="toc-text">Á§∫‰æã</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Docker-%E5%91%BD%E4%BB%A4%E5%BF%AB%E6%8D%B7%E6%A0%8F"><span class="toc-number">4.</span> <span class="toc-text">Docker ÂëΩ‰ª§Âø´Êç∑Ê†è</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E8%A7%A3%E9%87%8A%EF%BC%9A"><span class="toc-number">5.</span> <span class="toc-text">ÂèÇÊï∞Ëß£ÈáäÔºö</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B0%86%E5%AE%BF%E4%B8%BB%E6%9C%BA-workspace-nginx-%E4%B8%8B%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E3%80%81%E6%97%A5%E5%BF%97%E3%80%81html-%E6%96%87%E4%BB%B6%E6%8C%82%E8%BD%BD%E5%88%B0-Nginx-%E5%AE%B9%E5%99%A8%E4%B8%AD"><span class="toc-number">6.</span> <span class="toc-text">Â∞ÜÂÆø‰∏ªÊú∫ workspace&#x2F;nginx&#x2F; ‰∏ãÁöÑÈÖçÁΩÆÊñá‰ª∂„ÄÅÊó•Âøó„ÄÅhtml Êñá‰ª∂ÊåÇËΩΩÂà∞ Nginx ÂÆπÂô®‰∏≠</span></a></li></ol></div></div></div><div class="tag-cloud"><div class="tag-cloud-tags"><a href="/tags/Book/" style="font-size: 12px; color: #ffc20e">Book</a> <a href="/tags/Celery/" style="font-size: 12px; color: #ffc20e">Celery</a> <a href="/tags/Django/" style="font-size: 30px; color: #00a6ac">Django</a> <a href="/tags/Docker/" style="font-size: 24px; color: #55af77">Docker</a> <a href="/tags/FastAPI/" style="font-size: 18px; color: #aab943">FastAPI</a></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://godhearing.cn/2021/03/09/docker-xiang-jie-ju-xiang/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="Â§© Âê¨"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="Â§©Âê¨„ÅÆblog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">DockerËØ¶Ëß£(Â∑®ËØ¶)</h1><div class="post-meta"><div class="post-time" style="display:inline-block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="Created: 2021-03-09 16:54:48" itemprop="dateCreated datePublished" datetime="2021-03-09T16:54:48+08:00">2021-03-09</time></div><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category" href="/categories/Docker/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">Docker</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag" href="/tags/Docker/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">Docker</span></a></span></div><div class="post-author"><span class="author-name">Â§©Âê¨</span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#4e72b8;"><h1 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h1><h2 id="Ê†∏ÂøÉÊ¶ÇÂøµ"><a href="#Ê†∏ÂøÉÊ¶ÇÂøµ" class="headerlink" title="Ê†∏ÂøÉÊ¶ÇÂøµ"></a>Ê†∏ÂøÉÊ¶ÇÂøµ</h2><h3 id="ÈïúÂÉè"><a href="#ÈïúÂÉè" class="headerlink" title="ÈïúÂÉè"></a>ÈïúÂÉè</h3><blockquote>
<p>  Á±ª‰ºº‰∫éËôöÊãüÊú∫ÈïúÂÉè„ÄÅÊàñËÄÖÊòØÈù¢ÂØπÂØπË±°ÈáåÁöÑ‚ÄùÁ±ª‚Äù„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™ÈïúÂÉèÂèØ‰ª•ÂåÖÂê´‰∏Ä‰∏™Âü∫Êú¨ÁöÑÊìç‰ΩúÁ≥ªÁªüÁéØÂ¢ÉÔºåÈáåÈù¢‰ªÖÂÆâË£ÖApacheÔºåÂ∞±ÂèØ‰ª•ÊääÂÆÉÁß∞‰∏∫ApacheÈïúÂÉèÔºåÈïúÂÉèÊòØÂàõÂª∫ docker ÂÆπÂô®ÁöÑÂü∫Á°Ä„ÄÇ</p>
<p>  <strong>Ê≥®ÊÑèÔºöÈïúÂÉèËá™Ë∫´ÊòØÂè™ËØªÁöÑÔºåÂÆπÂô®‰ªéÈïúÂÉèÂêØÂä®ÁöÑÊó∂ÂÄôÔºå‰ºöÂú®ÈïúÂÉèÁöÑÊúÄ‰∏äÂ±ÇÂàõÂª∫‰∏Ä‰∏™ÂèØÂÜôÂ±Ç„ÄÇ</strong></p>
</blockquote>
<h3 id="ÂÆπÂô®"><a href="#ÂÆπÂô®" class="headerlink" title="ÂÆπÂô®"></a>ÂÆπÂô®</h3><blockquote>
<p>  Á±ª‰ºº‰∫é‰∏Ä‰∏™ËΩªÈáèÁ∫ßÁöÑÊ≤ôÁÆ±ÔºåÊàñËÄÖÊòØÈù¢ÂØπÂØπË±°ÈáåÁöÑ ‚ÄúÂØπË±°‚Äù„ÄÇ docker  Âà©Áî®ÂÆπÂô®Êù•ËøêË°åÂíåÈöîÁ¶ªÂ∫îÁî®ÔºåÂÆπÂô®ÊòØ‰ªéÈïúÂÉèÂàõÂª∫ÁöÑÂ∫îÁî®ËøêË°åÂÆû‰æãÔºåÂèØ‰ª•Â∞ÜÂÖ∂ÂêØÂä®„ÄÅÂºÄÂßã„ÄÅÂÅúÊ≠¢„ÄÅÂà†Èô§ÔºåËÄå‰∏îËøô‰∫õÂÆπÂô®ÈÉΩÊòØÂΩºÊ≠§Áõ∏‰∫íÈöîÁ¶ªÁöÑÔºå‰∫í‰∏çÂèØËßÅÁöÑ„ÄÇ</p>
<p>  ÂèØ‰ª•ÊääÂÆπÂô®Áúã‰ΩúÊòØ‰∏Ä‰∏™ÁÆÄÊòìÁâàÁöÑLinuxÁ≥ªÁªüÁéØÂ¢ÉÔºå‰ª•ÂèäËøêË°åÂú®ÂÖ∂‰∏≠ÁöÑÂ∫îÁî®Á®ãÂ∫èÊâìÂåÖËÄåÊàêÁöÑÁõíÂ≠ê„ÄÇ</p>
</blockquote>
<h3 id="‰ªìÂ∫ì"><a href="#‰ªìÂ∫ì" class="headerlink" title="‰ªìÂ∫ì"></a>‰ªìÂ∫ì</h3><blockquote>
<p>  Á±ª‰ºº‰∫é‰ª£Á†Å‰ªìÂ∫ìÔºåÂÆÉÊòØ  docker ÈõÜ‰∏≠Â≠òÊîæÈïúÂÉèÊñá‰ª∂ÁöÑÂú∫ÊâÄÔºå‰∏Ä‰∏™‰ªìÂ∫ìÈõÜ‰∏≠Â≠òÊîæÊüê‰∏ÄÁ±ªÈïúÂÉèÔºåÂæÄÂæÄÂåÖÊã¨Â§ö‰∏™ÈïúÂÉèÊñá‰ª∂ÔºåÈÄöËøá‰∏çÂêåÁöÑÊ†áÁ≠æÔºàtagÔºâÊù•ËøõË°åÂå∫ÂàÜ„ÄÇ</p>
<p>  ‰æãÂ¶ÇÔºöÂ≠òÊîæ ubuntu ÈïúÂÉèÁöÑ‰ªìÂ∫ìÁß∞‰∏∫ ubuntu ‰ªìÂ∫ìÔºåÂÖ∂‰∏≠ÂèØËÉΩÂåÖÂê´14.04„ÄÅ12.04Á≠â‰∏çÂêåÁâàÊú¨ÁöÑÈïúÂÉè„ÄÇ</p>
<p>   docker  ‰ªìÂ∫ìÂàÜ‰∏∫ÂÖ¨ÂºÄ‰ªìÂ∫ìÂíåÁßÅÊúâ‰ªìÂ∫ìÔºåÊØîËæÉÂá∫ÂêçÁöÑÂÖ¨ÂºÄ‰ªìÂ∫ìÊúâÔºö docker  Hub„ÄÅÊó∂ÈÄü‰∫ë„ÄÅaliyun Á≠â„ÄÇ </p>
</blockquote>
<h2 id="ÂÆâË£ÖÂèäÈÖçÁΩÆ"><a href="#ÂÆâË£ÖÂèäÈÖçÁΩÆ" class="headerlink" title="ÂÆâË£ÖÂèäÈÖçÁΩÆ"></a>ÂÆâË£ÖÂèäÈÖçÁΩÆ</h2><blockquote>
<ol>
<li> Âç∏ËΩΩÊóßÁâàÊú¨ Ôºöyum remove  docker * Ôºõ</li>
<li> ÂÆâË£Ö  docker Ôºöyum -y install  docker ÔºåÂ¶ÇÊûúÊèêÁ§∫ÊÇ®Êé•Âèó GPG ÂØÜÈí•ÔºåËØ∑ÈÄâ‚ÄúÊòØ‚Äù Ôºõ</li>
<li> [ÂèØÈÄâ] ÈÖçÁΩÆÁî®Êà∑ÁªÑÔºö docker  ÂÆâË£ÖÂêéËá™Âä®ÂàõÂª∫ docker Áî®Êà∑ÁªÑÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜÁî®Êà∑Ê∑ªÂä†Âà∞ docker Áî®Êà∑ÁªÑÔºåÂèØ‰ª•ÈÅøÂÖçÊØèÊ¨°ÈÉΩ‰ΩøÁî® sudo ËøêË°åÔºöusermod -aG docker YOUR_NAME Ôºõ</li>
<li> [ÂèØÈÄâ] ËÆ© docker ÊúçÂä°ÂèØ‰ª•ÈÄöËøáÊú¨Âú∞ 2375 Á´ØÂè£Êé•ÂèóÊù•Ëá™Â§ñÈÉ®ÁöÑËØ∑Ê±ÇÔºödocker _OPTS=‚Äù$ docker _OPTS -H tcp://0.0.0.0:2375 -H unix:/// /var/run/ docker .sock‚Äù Ôºõ</li>
<li> [ÂèØÈÄâ] ÁÑ∂ÂêéÈáçÂêØ docker ÊúçÂä°Ôºösystemctl restart  docker Ôºõ</li>
<li> ÂêØÂä® docker Ôºösystemctl start  docker Ôºõ</li>
<li> ËøêË°å hello-world ÈïúÂÉèÊù•È™åËØÅÊòØÂê¶Ê≠£Á°ÆÂÆâË£Ö Ôºödocker  run hello-world Ôºõ</li>
</ol>
</blockquote>
<h2 id="Âü∫Á°ÄÂëΩ‰ª§"><a href="#Âü∫Á°ÄÂëΩ‰ª§" class="headerlink" title="Âü∫Á°ÄÂëΩ‰ª§"></a>Âü∫Á°ÄÂëΩ‰ª§</h2><blockquote>
<ul>
<li><p>  infoÔºöÊòæÁ§∫ docker Á≥ªÁªü‰ø°ÊÅØÔºåÂåÖÊã¨ÈïúÂÉèÂíåÂÆπÂô®Êï∞Ôºõ</p>
</li>
<li><p>  versionÔºöÊòæÁ§∫ docker ÁâàÊú¨‰ø°ÊÅØÔºõ</p>
</li>
</ul>
</blockquote>
<h2 id="‰ªìÂ∫ìÁÆ°ÁêÜÂëΩ‰ª§"><a href="#‰ªìÂ∫ìÁÆ°ÁêÜÂëΩ‰ª§" class="headerlink" title="‰ªìÂ∫ìÁÆ°ÁêÜÂëΩ‰ª§"></a>‰ªìÂ∫ìÁÆ°ÁêÜÂëΩ‰ª§</h2><blockquote>
<ul>
<li><p>login ÔºöÁôªÈôÜÂà∞‰∏Ä‰∏™ docker ÈïúÂÉè‰ªìÂ∫ìÔºåÊú™ÊåáÂÆöÈïúÂÉè‰ªìÂ∫ìÂú∞ÂùÄÔºåÈªòËÆ§‰∏∫ÂÆòÊñπ‰ªìÂ∫ì docker Hub Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker login [Options] [SERVER]
[Options]:
    -u: ÁôªÈôÜÁöÑÁî®Êà∑Âêç
    -p: ÁôªÈôÜÁöÑÂØÜÁ†Å</code></pre>
</li>
<li><p>logout ÔºöÁôªÂá∫ÈïúÂÉè‰ªìÂ∫ìÔºåÊú™ÊåáÂÆöÈïúÂÉè‰ªìÂ∫ìÂú∞ÂùÄÔºåÈªòËÆ§‰∏∫ÂÆòÊñπ‰ªìÂ∫ì docker Hub Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker logout [SERVER]</code></pre>
</li>
<li><p>pull Ôºö‰ªéÈïúÂÉè‰ªìÂ∫ì‰∏≠ÊãâÂèñÊàñËÄÖÊõ¥Êñ∞ÊåáÂÆöÈïúÂÉè Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker pull [Options] NAME[:TAG]
[Options]:
    -a: ÊãâÂèñÊâÄÊúâ tagged ÈïúÂÉè
    --disable-content-trust: ÂøΩÁï•ÈïúÂÉèÁöÑÊ†°È™å,ÈªòËÆ§ÂºÄÂêØ</code></pre>
</li>
<li><p>push ÔºöÂ∞ÜÊú¨Âú∞ÁöÑÈïúÂÉè‰∏ä‰º†Âà∞ÈïúÂÉè‰ªìÂ∫ì Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker push [Options] NAME[:TAG]
[Options]:
    --disable-content-trust: ÂøΩÁï•ÈïúÂÉèÁöÑÊ†°È™å,ÈªòËÆ§ÂºÄÂêØ</code></pre>
</li>
<li><p>search Ôºö‰ªé docker  Hub Êü•ÊâæÈïúÂÉè Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker search [Options] Name
[Options]:
    --automated: Âè™ÂàóÂá∫ automated build Á±ªÂûãÁöÑÈïúÂÉè
    --no-trunc: ÊòæÁ§∫ÂÆåÊï¥ÁöÑÈïúÂÉèÊèèËø∞
    -s: ÂàóÂá∫Êî∂ËóèÊï∞‰∏çÂ∞è‰∫éÊåáÂÆöÂÄºÁöÑÈïúÂÉè
    -fÔºöËøáÊª§Êù°‰ª∂Ôºü</code></pre>
</li>
</ul>
</blockquote>
<h2 id="ÈïúÂÉèÁÆ°ÁêÜÂëΩ‰ª§"><a href="#ÈïúÂÉèÁÆ°ÁêÜÂëΩ‰ª§" class="headerlink" title="ÈïúÂÉèÁÆ°ÁêÜÂëΩ‰ª§"></a>ÈïúÂÉèÁÆ°ÁêÜÂëΩ‰ª§</h2><blockquote>
<ul>
<li><p>imagesÔºöÂàóÂá∫ÊâÄÊúâÊú¨Âú∞ÈïúÂÉè Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker images [Options] [REPOSITORY[:TAG]]
[Options]:
    -a: ÂàóÂá∫Êú¨Âú∞ÊâÄÊúâÁöÑÈïúÂÉèÔºàÂê´‰∏≠Èó¥Êò†ÂÉèÂ±ÇÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåËøáÊª§Êéâ‰∏≠Èó¥Êò†ÂÉèÂ±ÇÔºâ
    --digests: ÊòæÁ§∫ÈïúÂÉèÁöÑÊëòË¶Å‰ø°ÊÅØ
    -f: ÊòæÁ§∫Êª°Ë∂≥Êù°‰ª∂ÁöÑÈïúÂÉè
    --format: ÊåáÂÆöËøîÂõûÂÄºÁöÑÊ®°ÊùøÊñá‰ª∂
     --no-trunc: ÊòæÁ§∫ÂÆåÊï¥ÁöÑÈïúÂÉè‰ø°ÊÅØ
     -q: Âè™ÊòæÁ§∫ÈïúÂÉèID</code></pre>
</li>
<li><p>rmi : Âà†Èô§Êú¨Âú∞‰∏Ä‰∏™ÊàñÂ§öÂ∞ëÈïúÂÉè Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker rmi [OPTIONS] IMAGE [IMAGE...]
    -f: Âº∫Âà∂Âà†Èô§
    --no-prune: ‰∏çÁßªÈô§ËØ•ÈïúÂÉèÁöÑËøáÁ®ãÈïúÂÉèÔºåÈªòËÆ§ÁßªÈô§</code></pre>
</li>
<li><p>tag : ‰∏∫ÈïúÂÉèÊ∑ªÂä†‰∏Ä‰∏™Ê†áÁ≠æ Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker tag  IMAGE[:TAG] [REGISTRYHOST/][USERNAME/]NAME[:TAG]</code></pre>
</li>
<li><p>historyÔºöÊü•ÁúãÊåáÂÆöÈïúÂÉèÁöÑÂàõÂª∫ÂéÜÂè≤ Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker history [Options] IMAGE
[Options]:
    -H: ‰ª•ÂèØËØªÁöÑÊ†ºÂºèÊâìÂç∞ÈïúÂÉèÂ§ßÂ∞èÂíåÊó•ÊúüÔºåÈªòËÆ§‰∏∫true
    --no-trunc: ÊòæÁ§∫ÂÆåÊï¥ÁöÑÊèê‰∫§ËÆ∞ÂΩï
    -q: ‰ªÖÂàóÂá∫Êèê‰∫§ËÆ∞ÂΩïID</code></pre>
</li>
<li><p>saveÔºöÂ∞ÜÊåáÂÆöÈïúÂÉè‰øùÂ≠òÊàê tar ÂΩíÊ°£Êñá‰ª∂ Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker save [Options] IMAGE [IMAGE...]
[Options]:
    -o: ËæìÂá∫Âà∞ÁöÑÊñá‰ª∂
# Á§∫‰æãÔºö
$ docker save centos_test_v3.tar centos:v3</code></pre>
</li>
<li><p>loadÔºöÂØºÂÖ•‰ΩøÁî® save ÂëΩ‰ª§ÂØºÂá∫ÁöÑÈïúÂÉè Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker load [Options]
[Options]:
    --input,-i :ÊåáÂÆöÂØºÂÖ•ÁöÑÊñá‰ª∂Ôºå‰ª£Êõø STDIN
    --quiet,-q :Á≤æÁÆÄËæìÂá∫‰ø°ÊÅØ

# Á§∫‰æã1Ôºö
$ docker load < busybox.tar.gz
# Loaded image: busybox:latest

# Á§∫‰æã2:
$ docker load --input fedora.tar
# Loaded image: fedora:latest</code></pre>
</li>
<li><p>importÔºöÂØºÂÖ•ÈïúÂÉè Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker  import [Options] file|URL(ÂéãÁº©Êñá‰ª∂Êàñurl) [ÂÆπÂô®Âêç:Ê†áÁ≠æ]
[Options]:
    -c: Â∫îÁî® docker Êåá‰ª§ÂàõÂª∫ÈïúÂÉè
    -m: Êèê‰∫§Êó∂ÁöÑËØ¥ÊòéÊñáÂ≠ó

# Á§∫‰æãÔºö
$ docker import centos_test.tar os/centos_test:v2</code></pre>
</li>
</ul>
</blockquote>
<h2 id="ÂÆπÂô®ÁÆ°ÁêÜÂëΩ‰ª§"><a href="#ÂÆπÂô®ÁÆ°ÁêÜÂëΩ‰ª§" class="headerlink" title="ÂÆπÂô®ÁÆ°ÁêÜÂëΩ‰ª§"></a>ÂÆπÂô®ÁÆ°ÁêÜÂëΩ‰ª§</h2><h3 id="ÁîüÂëΩÂë®ÊúüÁÆ°ÁêÜ"><a href="#ÁîüÂëΩÂë®ÊúüÁÆ°ÁêÜ" class="headerlink" title="ÁîüÂëΩÂë®ÊúüÁÆ°ÁêÜ"></a>ÁîüÂëΩÂë®ÊúüÁÆ°ÁêÜ</h3><blockquote>
<ul>
<li><p>runÔºöÊ†πÊçÆÈïúÂÉèÂàõÂª∫Âπ∂ÂêØÂä®‰∏Ä‰∏™ÂÆπÂô® Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker run [Options] image-name
[Options]:
    -i: ‰ª•‰∫§‰∫íÊ®°ÂºèËøêË°åÂÆπÂô®ÔºåÈÄöÂ∏∏‰∏é -t ÂêåÊó∂‰ΩøÁî®
    -t: ‰∏∫ÂÆπÂô®ÈáçÊñ∞ÂàÜÈÖç‰∏Ä‰∏™‰º™ËæìÂÖ•ÁªàÁ´ØÔºåÈÄöÂ∏∏‰∏é -i ÂêåÊó∂‰ΩøÁî®
    -a: ÊåáÂÆöÊ†áÂáÜËæìÂÖ•ËæìÂá∫ÂÜÖÂÆπÁ±ªÂûãÔºåÂèØÈÄâ STDIN/STDOUT/STDERR ‰∏âÈ°π
    -d: ÂêéÂè∞ËøêË°åÂÆπÂô®ÔºåÂπ∂ËøîÂõûÂÆπÂô®ID
    -p: ÊåáÂÆöÁ´ØÂè£Êò†Â∞ÑÔºåÊ†ºÂºè‰∏∫Ôºö8000:8000
    -m: ËÆæÁΩÆÂÆπÂô®‰ΩøÁî®ÂÜÖÂ≠òÊúÄÂ§ßÂÄº
    -P: ÈöèÊú∫Á´ØÂè£Êò†Â∞ÑÔºåÂÆπÂô®ÂÜÖÈÉ®Á´ØÂè£ÈöèÊú∫Êò†Â∞ÑÂà∞‰∏ªÊú∫ÁöÑÈ´òÁ´ØÂè£
    -e username="ritchie": ËÆæÁΩÆÂÆπÂô®ÁöÑÁéØÂ¢ÉÂèòÈáè
    -h "mars": ÊåáÂÆöÂÆπÂô®ÁöÑ hostname
    --restart='always': ËÆæÁΩÆÂÆπÂô®Ëá™Âä®ÈáçÂêØÔºå[no:‰∏çÈáçÂêØ/on-failure:Èùû0ÈÄÄÂá∫Êó∂ÈáçÂêØ]
    --name="nginx-lb":‰∏∫ÂÆπÂô®ÊåáÂÆö‰∏Ä‰∏™ÂêçÁß∞
    --network='bridge'ÔºöÊåáÂÆöÂÆπÂô®ÁöÑÁΩëÁªú
    --privileged=TrueÔºöËÆ©ÂÆπÂô®Ëé∑ÂèñÂÆø‰∏ªÊú∫ root ÊùÉÈôê
    --link=[]: Ê∑ªÂä†ÈìæÊé•Âà∞Âè¶‰∏Ä‰∏™ÂÆπÂô®
    --volume,-v: ÁªëÂÆö‰∏Ä‰∏™Âç∑
    --dns 8.8.8.8: ÊåáÂÆöÂÆπÂô®‰ΩøÁî®ÁöÑDNSÊúçÂä°Âô®ÔºåÈªòËÆ§ÂíåÂÆø‰∏ª‰∏ÄËá¥
    --dns-search example.com: ÊåáÂÆöÂÆπÂô®DNSÊêúÁ¥¢ÂüüÂêçÔºåÈªòËÆ§ÂíåÂÆø‰∏ª‰∏ÄËá¥
    --env-file=[]: ‰ªéÊåáÂÆöÊñá‰ª∂ËØªÂÖ•ÁéØÂ¢ÉÂèòÈáè
    --cpuset="0,1,2": ÁªëÂÆöÂÆπÂô®Âà∞ÊåáÂÆöCPUËøêË°å
    --net="bridge": ÊåáÂÆöÂÆπÂô®ÁöÑÁΩëÁªúËøûÊé•Á±ªÂûãÔºåÊîØÊåÅ bridge/host/none/container
    --expose=[]: ÂºÄÊîæ‰∏Ä‰∏™Á´ØÂè£Êàñ‰∏ÄÁªÑÁ´ØÂè£
    --rmÔºöÈÄÄÂá∫ÂÆπÂô®Êó∂Âà†Èô§ÂÆπÂô®</code></pre>
</li>
<li><p>createÔºöÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÂÆπÂô®‰ΩÜ‰∏çÂêØÂä®ÂÆÉ Ôºõ</p>
<pre class=" language-shell"><code class="language-shell"> docker create [Options] IMAGE [COMMAND] [ARG...]
 [Options]: ÂëΩ‰ª§Âêå run</code></pre>
</li>
<li><p>start/stop/restartÔºöÂêØÂä®/ÂÅúÊ≠¢/ÈáçÂêØ ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂÆπÂô® Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker stop id/name[ÂÆπÂô®2, ...]
docker start id/name[ÂÆπÂô®2, ...]
docker restart id/name[ÂÆπÂô®2, ...]</code></pre>
</li>
<li><p>pause/unpause ÔºöÊöÇÂÅú/ÊÅ¢Â§ç ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂÆπÂô®ËøõÁ®ã Ôºõ</p>
<pre class=" language-SHELL"><code class="language-SHELL">docker pause id/name[ÂÆπÂô®2, ...]
docker unpause id/name[ÂÆπÂô®2, ...]</code></pre>
</li>
<li><p>killÔºöÊùÄÊéâ‰∏Ä‰∏™ËøêË°å‰∏≠ÁöÑÂÆπÂô® Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker kill [Options] id/name
[Options]:
    -s :ÂêëÂÆπÂô®ÂèëÈÄÅ‰∏Ä‰∏™‰ø°Âè∑

# Á§∫‰æãÔºö
$ docker kill -s KILL mynginx</code></pre>
</li>
<li><p>rmÔºöÂà†Èô§ÂÆπÂô® Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker rm [Options] id/name[ÂÆπÂô®2, ...]
[Options]:
     -f: Âº∫Âà∂Âà†Èô§‰∏Ä‰∏™ËøêË°å‰∏≠ÁöÑÂÆπÂô®
    -l: ÁßªÈô§ÂÆπÂô®Èó¥ÁöÑÁΩëÁªúËøûÊé•ÔºåËÄåÈùûÂÆπÂô®Êú¨Ë∫´
     -v: Âà†Èô§‰∏éÂÆπÂô®ÂÖ≥ËÅîÁöÑÂç∑

# Á§∫‰æã1ÔºöÂà†Èô§ÊâÄÊúâÊú™ËøêË°åÁöÑÂÆπÂô®
$ docker rm $(docker ps -aq)
# Á§∫‰æã2ÔºöÂà†Èô§ÊâÄÊúâÁªàÊ≠¢Áä∂ÊÄÅÁöÑÂÆπÂô®
$ docker container prune</code></pre>
</li>
</ul>
</blockquote>
<h3 id="ÂÆπÂô®Êìç‰Ωú"><a href="#ÂÆπÂô®Êìç‰Ωú" class="headerlink" title="ÂÆπÂô®Êìç‰Ωú"></a>ÂÆπÂô®Êìç‰Ωú</h3><blockquote>
<ul>
<li><p>psÔºöÊü•ÁúãÂÆπÂô® Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker ps [Options]
[Options]:
    -a: ÊòæÁ§∫ÊâÄÊúâÁöÑÂÆπÂô®ÔºåÂåÖÊã¨Êú™ËøêË°åÁöÑ
    -q: Âè™ÊòæÁ§∫ÂÆπÂô®ÁºñÂè∑
    -l: ÊòæÁ§∫ÊúÄËøëÂàõÂª∫ÁöÑÂÆπÂô®
    -n: ÂàóÂá∫ÊúÄËøëÂàõÂª∫ÁöÑn‰∏™ÂÆπÂô®
    -s: ÊòæÁ§∫ÊÄªÁöÑÊñá‰ª∂Â§ßÂ∞è
    -f: Ê†πÊçÆÊù°‰ª∂ËøáÊª§ÊòæÁ§∫ÁöÑÂÜÖÂÆπ
    --format : ÊåáÂÆöËøîÂõûÂÄºÁöÑÊ®°ÊùøÊñá‰ª∂
    --no-trunc: ‰∏çÊà™Êñ≠ËæìÂá∫</code></pre>
</li>
<li><p>execÔºöËøõÂÖ•ÂÆπÂô®ÊàñÂú®ËøêË°åÁöÑÂÆπÂô®‰∏≠ÊâßË°åÂëΩ‰ª§ Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker exec [Options] id/name COMMAND [ARG...]
[Options]:
    -d: ÂêéÂè∞ËøêË°å
    -i: Âç≥‰ΩøÊ≤°ÊúâÈôÑÂä†‰πü‰øùÊåÅ STDIN ÊâìÂºÄ
    -t: ÂàÜÈÖç‰∏Ä‰∏™‰º™ÁªàÁ´Ø

COMMANDÔºöË¶ÅÂú®ÂÆπÂô®‰∏≠ÊâßË°åÁöÑÂëΩ‰ª§
[ARG...]: ÂëΩ‰ª§ÁöÑÂèÇÊï∞

# Á§∫‰æãÔºö
$ docker exec -it c3c7732da20e /bin/bash</code></pre>
</li>
<li><p>topÔºöÊü•ÁúãÂÆπÂô®‰∏≠ËøêË°åÁöÑËøõÁ®ã‰ø°ÊÅØ Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker top id</code></pre>
</li>
<li><p>logsÔºöÊü•ÁúãÂÆπÂô®Êó•Âøó Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker logs [Options] id/name
[Options]:
    -t: ÊòæÁ§∫Êó∂Èó¥Êà≥
    -f: Ë∑üË∏™Êó•ÂøóËæìÂá∫
    --tail: ‰ªÖÂàóÂá∫ÊúÄÊñ∞NÊù°ÂÆπÂô®Êó•Âøó
    --since: ÊòæÁ§∫Êüê‰∏™ÂºÄÂßãÊó∂Èó¥ÁöÑÊâÄÊúâÊó•Âøó</code></pre>
</li>
<li><p>inspectÔºö Ëé∑ÂèñÂÆπÂô®/ÈïúÂÉèÁöÑÂÖÉÊï∞ÊçÆÔºàÈÖçÁΩÆ‰ø°ÊÅØÔºâ„ÄÇ</p>
<pre class=" language-shell"><code class="language-shell">docker inspect [Options] id/name
[Options]:
    -s: ÊòæÁ§∫ÊÄªÁöÑÊñá‰ª∂Â§ßÂ∞è
    -f: ÊåáÂÆöËøîÂõûÂÄºÁöÑÊ®°ÊùøÊñá‰ª∂
    --type: ÊåáÂÆöËøîÂõûÁ±ªÂûã JSON</code></pre>
</li>
<li><p>attachÔºöËøõÂÖ•ÂÆπÂô® Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker attach [Options] id/name
[Options]:
    --sig-proxy=false: ÈÄÄÂá∫ÂÆπÂô®Êó∂‰∏çÂÅúÊ≠¢ÂÆπÂô®

Ê≥®ÊÑèÔºö‰ΩøÁî® attach ËøõÂÖ•ÂÆπÂô®Ôºåctrl + c/d ÈÄÄÂá∫ÂÆπÂô®Êó∂‰ºöÂÅúÊ≠¢ÂÆπÂô®ÔºåÊâÄ‰ª•ÈúÄË¶Å‰ΩøÁî® --sig-proxy=false ÂèÇÊï∞</code></pre>
</li>
<li><p>events: ‰ªéÊúçÂä°Âô®Ëé∑ÂèñÂÆûÊó∂‰∫ã‰ª∂ Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker events [Options]
[Options]:
    -fÔºöÊ†πÊçÆÊù°‰ª∂ËøáÊª§‰∫ã‰ª∂
    --sinceÔºö‰ªéÊåáÂÆöÁöÑÊó∂Èó¥Êà≥ÂêéÊòæÁ§∫ÊâÄÊúâ‰∫ã‰ª∂
    --untilÔºöÊµÅÊ∞¥Êó∂Èó¥ÊòæÁ§∫Âà∞ÊåáÂÆöÁöÑÊó∂Èó¥‰∏∫Ê≠¢</code></pre>
</li>
<li><p>wait: ÈòªÂ°ûËøêË°åÁõ¥Âà∞ÂÆπÂô®ÂÅúÊ≠¢ÔºåÁÑ∂ÂêéÊâìÂç∞Âá∫ÂÆÉÁöÑÈÄÄÂá∫‰ª£Á†Å Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker wait id/name</code></pre>
</li>
<li><p>exportÔºöÂØºÂá∫ÂÆπÂô® Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker export [Options] id/name
[Options]:
    -o: Â∞ÜËæìÂÖ•ÂÜÖÂÆπÂÜôÂà∞Êñá‰ª∂

# Á§∫‰æã1ÔºöÂ∞Ü id ‰∏∫ abcdefg ÁöÑÂÆπÂô®ÊåâÊó•Êúü‰øùÂ≠ò‰∏∫tarÊñá‰ª∂
$ docker export -o centos-'date +%Y%m%d'.tar abcdefg 
# Á§∫‰æã2ÔºöÂ∞ÜÂÆπÂô® test_centos ÂØºÂá∫‰∏∫ centos_test.tar
$ docker export test_centos > ./centos_test.tar</code></pre>
</li>
<li><p>portÔºöÂàóÂá∫ÊåáÂÆöÁöÑÂÆπÂô®ÁöÑÁ´ØÂè£Êò†Â∞Ñ</p>
<pre class=" language-shell"><code class="language-shell">docker port id/name</code></pre>
</li>
<li><p>  renameÔºöÈáçÂëΩÂêç‰∏Ä‰∏™ÂÆπÂô® Ôºõ</p>
</li>
<li><p>  updateÔºöÊõ¥Êñ∞‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂÆπÂô®ÁöÑÈÖçÁΩÆ Ôºõ</p>
</li>
</ul>
</blockquote>
<h3 id="ÂÆπÂô®rootfs"><a href="#ÂÆπÂô®rootfs" class="headerlink" title="ÂÆπÂô®rootfs"></a>ÂÆπÂô®rootfs</h3><blockquote>
<ul>
<li><p>commitÔºöÊ†πÊçÆÂÆπÂô®ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÈïúÂÉè Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker commit [Options] id/name ÈïúÂÉèÂêç:Ê†áÁ≠æ
[Options]:
    -a: Êèê‰∫§ÁöÑÈïúÂÉè‰ΩúËÄÖ
    -c: ‰ΩøÁî® docker fileÊåá‰ª§Êù•ÂàõÂª∫ÈïúÂÉè
    -m: Êèê‰∫§Êó∂ÁöÑËØ¥ÊòéÊñáÂ≠ó
    -p: Âú®commitÊó∂ÔºåÂ∞ÜÂÆπÂô®ÊöÇÂÅú</code></pre>
</li>
<li><p>cpÔºöÁî®‰∫éÂÆπÂô®‰∏é‰∏ªÊú∫‰πãÈó¥ÁöÑÊï∞ÊçÆÊã∑Ë¥ù Ôºõ</p>
<pre class=" language-shell"><code class="language-shell"># Â∞ÜÂÆπÂô®ÂÜÖÊï∞ÊçÆÊã∑Ë¥ùÂà∞Â§ñÈÉ®
docker cp [Options] id/name:from_path to_host_path
# Â∞ÜÂ§ñÈÉ®Êï∞ÊçÆÊã∑Ë¥ùÂà∞ÂÆπÂô®ÂÜÖ
docker cp [Options] from_host_path id/name:to_path
[Options]:
    -L: ‰øùÊåÅÊ∫êÁõÆÊ†á‰∏≠ÁöÑÈìæÊé•</code></pre>
</li>
<li><p>diffÔºöÊ£ÄÊü•ÂÆπÂô®ÈáåÊñá‰ª∂ÁªìÊûÑÁöÑÊõ¥Êîπ Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker diff id/name</code></pre>
</li>
</ul>
</blockquote>
<h2 id="ÁΩëÁªúÁÆ°ÁêÜÂëΩ‰ª§"><a href="#ÁΩëÁªúÁÆ°ÁêÜÂëΩ‰ª§" class="headerlink" title="ÁΩëÁªúÁÆ°ÁêÜÂëΩ‰ª§"></a>ÁΩëÁªúÁÆ°ÁêÜÂëΩ‰ª§</h2><h3 id="docker-network"><a href="#docker-network" class="headerlink" title="docker  network"></a>docker  network</h3><blockquote>
<ul>
<li><p>createÔºöÂàõÂª∫‰∏Ä‰∏™ docker ÁΩëÁªú Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker network create [OPTIONS] net_name
[OPTIONS]:
    -dÔºöÊåáÂÆö docker ÁΩëÁªúÁ±ªÂûãÔºåÊúâ bridge„ÄÅoverlay Á≠âÁ±ªÂûã</code></pre>
</li>
<li><p>lsÔºöÊü•ÁúãÂ∑≤ÊúâÁöÑ docker ÁΩëÁªú Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker network ls
    -qÔºö‰ªÖÊòæÁ§∫ÁΩëÁªúid
    -fÔºöËøáÊª§Êù°‰ª∂

# Á§∫‰æãÔºöÊ†πÊçÆÁΩëÁªúÁ±ªÂûãËøáÊª§
$ docker network ls -f 'driver=bridge'</code></pre>
</li>
<li><p>connectÔºöÂ∞ÜÂÆπÂô®ËøûÊé•Âà∞ÁΩëÁªú Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker network connect net_name container_id/name</code></pre>
</li>
<li><p>disconnectÔºöÊñ≠ÂºÄÂÆπÂô®‰∏éÁΩëÁªúÁöÑËøûÊé• Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker network disconnect [OPTIONS] net_name container_id/name
[OPTIONS]:
    -fÔºöÂº∫Âà∂Êñ≠ÂºÄ</code></pre>
</li>
<li><p>inspectÔºöÊòæÁ§∫‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÁΩëÁªú‰∏äÁöÑËØ¶ÁªÜ‰ø°ÊÅØ Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker network inspect [Options] net_name
[Options]:
    -fÔºöÁî®ÁªôÂÆöÁöÑÊ®°ÁâàÊ†ºÂºèÂåñËæìÂá∫‰ø°ÊÅØ</code></pre>
</li>
<li><p>rmÔºöÂà†Èô§1‰∏™ÊàñÂ§ö‰∏™ÁΩëÁªú Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker network rm net_name[net_2, ...]</code></pre>
</li>
<li><p>pruneÔºöÂà†Èô§ÊâÄÊúâÊú™‰ΩøÁî®ÁöÑÁΩëÁªú Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker network prune [OPTIONS]
[OPTIONS]:
    -fÔºö‰∏çÊèêÁ§∫Á°ÆËÆ§</code></pre>
</li>
</ul>
</blockquote>
<h1 id="Dockerfile"><a href="#Dockerfile" class="headerlink" title="Dockerfile"></a>Dockerfile</h1><blockquote>
<p>  dockerfile ÊòØ‰∏Ä‰∏™Áî®Êù•ÊûÑÂª∫ÈïúÂÉèÁöÑÊñáÊú¨Êñá‰ª∂ÔºåÊñáÊú¨ÂÜÖÂÆπÂåÖÂê´‰∫Ü‰∏ÄÊù°Êù°ÊûÑÂª∫ÈïúÂÉèÊâÄÈúÄÁöÑÊåá‰ª§ÂíåËØ¥Êòé„ÄÇ</p>
</blockquote>
<h2 id="ÊûÑÂª∫ÂëΩ‰ª§"><a href="#ÊûÑÂª∫ÂëΩ‰ª§" class="headerlink" title="ÊûÑÂª∫ÂëΩ‰ª§"></a>ÊûÑÂª∫ÂëΩ‰ª§</h2><blockquote>
<ul>
<li><p>buildÔºödockerfile Âà©Áî® build ÂëΩ‰ª§Êù•ÊûÑÂª∫‰∏Ä‰∏™ÈïúÂÉè Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">docker build [Options] image_name:tag dockerfile_path
[Options]:
    -cÔºöcpuÊ†∏ÂøÉÊï∞
    -mÔºöÊúÄÂ§ßÂÜÖÂ≠ò
    -tÔºöÈïúÂÉèÊ†áËÆ∞

# Ê≥®ÊÑèÔºöÂ≠òÊîæ dockerfile ÁöÑÊñá‰ª∂Â§π‰∏≠‰∏çË¶ÅÊîæÊó†ÂÖ≥ÁöÑÊñá‰ª∂ÔºåÂõ†‰∏∫ docker ‰ºöÊî∂ÈõÜ dockerfileÂ∑•‰ΩúË∑ØÂæÑÁöÑÊâÄÊúâÊñá‰ª∂Áî®Êù•ÊûÑÂª∫ÈïúÂÉè!</code></pre>
</li>
</ul>
</blockquote>
<h2 id="ËØ≠Ê≥ïËßÑÂàô"><a href="#ËØ≠Ê≥ïËßÑÂàô" class="headerlink" title="ËØ≠Ê≥ïËßÑÂàô"></a>ËØ≠Ê≥ïËßÑÂàô</h2><blockquote>
<p>  dockerfile ÂàÜ‰∏∫Âõõ‰∏™ÈÉ®ÂàÜÔºöÂü∫Á°ÄÈïúÂÉè‰ø°ÊÅØ„ÄÅÁª¥Êä§ËÄÖ‰ø°ÊÅØ„ÄÅÈïúÂÉèÊìç‰ΩúÊâßË°å„ÄÅÂÆπÂô®ÂêØÂä®Êó∂ÊâßË°åÁöÑÊåá‰ª§ Ôºõ</p>
<ul>
<li><p>FROMÔºöÊåáÂÆöË¶ÅÂºïÁî®ÁöÑÂü∫Á°ÄÈïúÂÉèÔºåÂÖà‰ªéÊú¨Âú∞ÊâæÔºåÊâæ‰∏çÂà∞ÂÜçÂéª docker  hub Êâæ Ôºõ</p>
<p>  <strong>Ê≥®ÊÑè‰∫ãÈ°πÔºö</strong></p>
<ul>
<li><p>  Âü∫Á°ÄÈïúÂÉèÊúâ tag ‰∏ÄÂÆöË¶ÅÂ∏¶‰∏äÔºåÂê¶Âàô‰∏çËØÜÂà´ Ôºõ</p>
</li>
<li><p>  ‰ªª‰Ωï dockerfile ÁöÑÁ¨¨‰∏ÄÊù°Êåá‰ª§ÂøÖÈ°ª‰∏∫ FROM Ôºõ</p>
</li>
<li><p>Â¶ÇÊûúÂú®Âêå‰∏Ä‰∏™ dockerfile ‰∏≠ÂàõÂª∫Â§ö‰∏™ÈïúÂÉèÔºåÂèØ‰ª•‰ΩøÁî®Â§ö‰∏™ FROM Êåá‰ª§Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">FROM centos:7.5.1804</code></pre>
</li>
</ul>
</li>
<li><p>RUNÔºöÂú®ÈïúÂÉè build Êó∂ÊâßË°åÂëΩ‰ª§ Ôºõ</p>
<p>  <strong>Ê≥®ÊÑè‰∫ãÈ°πÔºö</strong></p>
<ul>
<li><p>RUN Êåá‰ª§ÊØèÊâßË°å‰∏ÄÊ¨°ÈÉΩ‰ºöÂú® docker ‰∏äÊñ∞Âª∫‰∏ÄÂ±ÇÈïúÂÉèÔºåÈÄ†ÊàêÈïúÂÉèËÜ®ËÉÄÔºåÊâÄ‰ª•Êó†ÂøÖË¶ÅÁöÑËØùÂ∫îËØ•Áî® <code> &amp;&amp;</code> ËøûÊé•Â§ö‰∏™Êåá‰ª§Ôºõ</p>
<pre class=" language-shell"><code class="language-shell"># ‰ΩøÁî® RUN Êåá‰ª§Êúâ‰∏§ÁßçÊñπÂºèÔºö

# 1. ÈªòËÆ§‰ΩøÁî® shell ÊâßË°åÂëΩ‰ª§Ôºå
RUN <command>
# Á§∫‰æã1Ôºö
RUN -c  # Á≠â‰ª∑‰∫é /bin/sh -c

# 2. Êé®ËçêÁî®Ê≥ïÔºåÈááÁî® exec ÁöÑÊ†ºÂºèÊâßË°åÂëΩ‰ª§
RUN ["executable", "param1", "param2"] 
"executable"ÔºöÂèØÊâßË°åÊñá‰ª∂
"param1"Ôºå"param2"ÔºöÊâßË°åÊó∂ÁöÑÂèÇÊï∞

# Á§∫‰æã2Ôºö
RUN ["/bin/bash", "-c", "echo hello"]  # RUN /bin/bash -c echo hello
RUN ["./test.php", "dev", "offline"]  # RUN ./test.php dev offline

# Á§∫‰æã3Ôºö‰ΩøÁî® && ËøûÊé•Â§ö‰∏™ÂëΩ‰ª§
FROM centos
RUN yum install wget \
  && wget -O redis.tar.gz "http://download.redis.io/releases/redis-5.0.3.tar.gz" \
  && tar -xvf redis.tar.gz</code></pre>
</li>
</ul>
</li>
<li><p>CMDÔºöÁ±ª‰ºº‰∫é RUNÔºå‰∏∫ÂêØÂä®ÁöÑÂÆπÂô®ÊåáÂÆöÈªòËÆ§Ë¶ÅËøêË°åÁöÑÁ®ãÂ∫èÔºåÁ®ãÂ∫èËøêË°åÁªìÊùüÔºåÂÆπÂô®‰πüÂ∞±ÁªìÊùü Ôºõ</p>
<p>  <strong>Ê≥®ÊÑè‰∫ãÈ°πÔºö</strong></p>
<ul>
<li><p>  Á±ª‰ºº‰∫é RUN Êåá‰ª§Ôºå‰ΩÜ‰∫åËÄÖËøêË°åÁöÑÊó∂Èó¥ÁÇπ‰∏çÂêåÔºåCMD Âú® docker run Êó∂ËøêË°å„ÄÇ</p>
</li>
<li><p>ÊØè‰∏™  dockerfile Âè™ËÉΩÊúâ 1 ‰∏™ CMD Êåá‰ª§ÔºåÂ¶ÇÊúâÂ§ö‰∏™Âè™‰ºöÊâßË°åÊúÄÂêé‰∏ÄÊù°Ôºå‰∏îÂ¶ÇÁî®Êà∑ÂêØÂä®ÂÆπÂô®Êó∂ÊåáÂÆö‰∫ÜËøêË°åÁöÑÂëΩ‰ª§ÔºåÂàô‰ºöË¶ÜÁõñ CMD ÁöÑÂëΩ‰ª§Ôºõ</p>
<pre class=" language-shell"><code class="language-shell"># Êúâ‰∏âÁßçÊ†ºÂºèÔºö
CMD <command>
CMD ["executable", "param1", "param2"]
# ËØ•ÂÜôÊ≥ïÊòØ‰∏∫ ENTRYPOINT Êåá‰ª§ÊåáÂÆöÁöÑÁ®ãÂ∫èÊèê‰æõÈªòËÆ§ÂèÇÊï∞
CMD ["param1", "param2"] </code></pre>
</li>
</ul>
</li>
<li><p>ENTRYPOINTÔºöÁ±ª‰ºº‰∫é CMD Êåá‰ª§Ôºå‰ΩÜ‰∏ç‰ºöË¢´ docker run ÁöÑÊåáÂÆöÁöÑÂèÇÊï∞Ë¶ÜÁõñÔºåËÄå‰∏îËøô‰∫õÂëΩ‰ª§Ë°åÂèÇÊï∞‰ºöË¢´ÂΩì‰ΩúÂèÇÊï∞ÈÄÅÁªô ENTRYPOINT Êåá‰ª§ÊåáÂÆöÁöÑÁ®ãÂ∫è Ôºõ</p>
<p>  <strong>Ê≥®ÊÑè‰∫ãÈ°πÔºö</strong></p>
<ul>
<li><p>  CMD Êåá‰ª§ÊåáÂÆöÂèÇÊï∞Â∞Ü‰ºöÊàê‰∏∫ ENTRYPOINT ÊåáÂÆöÂëΩ‰ª§ÁöÑÂèÇÊï∞ Ôºõ</p>
</li>
<li><p>  ÊØè‰∏™ dockerfile Âè™ËÉΩÊúâ1‰∏™ ENTRYPOINT Êåá‰ª§ÔºåÂΩìÊúâÂ§ö‰∏™Êó∂Âè™ÊúâÊúÄÂêé‰∏Ä‰∏™ÁîüÊïà Ôºõ</p>
</li>
<li><p>‰ºöË¢´ docker run Êó∂ÊåáÂÆöÁöÑ ‚Äìentrypoint ÂèÇÊï∞Ë¶ÜÁõñ Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">FROM nginx
ENTRYPOINT ["nginx", "-c"] # ÂÆöÂèÇ
CMD ["/etc/nginx/nginx.conf"] # ÂèòÂèÇ 

# ÂΩì‰∏ç‰º†ÂèÇÂêØÂä®ÂÆπÂô®Êó∂
$ docker run nginx:test  
# ÂÆπÂô®ÂÜÖÊâßË°å
$ nginx -c /etc/nginx/nginx.conf  

# ÂΩì‰º†ÂèÇÂêØÂä®ÂÆπÂô®Êó∂
$ docker run nginx:test -c /etc/nginx/new.conf
# ÂÆπÂô®ÂÜÖÊâßË°å
$ nginx -c /etc/nginx/new.conf</code></pre>
</li>
</ul>
</li>
<li><p>ENVÔºöÊåáÂÆöÁéØÂ¢ÉÂèòÈáèÔºåÂÆö‰πâ‰∫ÜÁéØÂ¢ÉÂèòÈáèÔºåÈÇ£‰πàÂú®ÂêéÁª≠ÁöÑÊåá‰ª§‰∏≠ÔºåÂ∞±ÂèØ‰ª•‰ΩøÁî®Ëøô‰∏™ÁéØÂ¢ÉÂèòÈáèÔºåÂú®Ê≠§ÈïúÂÉèÂêØÂä®ÁöÑÂÆπÂô®‰∏≠‰πü‰ºöÂ≠òÂú®„ÄÇ</p>
<p>  <strong>Ê≥®ÊÑè‰∫ãÈ°πÔºö</strong></p>
<ul>
<li><p>  ÂèØ‰ª•ÊúâÂ§ö‰∏™ ENV</p>
</li>
<li><p>ËØ•Êåá‰ª§ÊåáÂÆöÁöÑÁéØÂ¢ÉÂèòÈáè‰ºöË¢´ÂêØÂä®ÂÆπÂô®Êó∂ÁöÑ ‚Äìenv ÂèÇÊï∞Ë¶ÜÁõñ</p>
<pre class=" language-shell"><code class="language-shell">ENV <key> <value>
ENV <key>=<value> <key2>=<value2> ...</code></pre>
</li>
</ul>
</li>
<li><p>ARGÔºöÊûÑÂª∫ÂèÇÊï∞Ôºå‰∏é ENV ‰ΩúÁî®‰∏ÄËá≥Ôºå‰∏çËøá‰ΩúÁî®Âüü‰∏ç‰∏ÄÊ†∑ÔºåARG ËÆæÁΩÆÁöÑÁéØÂ¢ÉÂèòÈáè‰ªÖÂú® docker build ÁöÑËøáÁ®ã‰∏≠ÊúâÊïà Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">ARG <name> <value>
ARG <name>=<value></code></pre>
</li>
<li><p>WORKDIRÔºö‰∏∫ÂêéÁª≠ÁöÑ RUN„ÄÅCMD Âíå ENTRYPOINT Êåá‰ª§ÈÖçÁΩÆÂ∑•‰ΩúÁõÆÂΩïÔºåÂèØ‰ª•‰ΩøÁî®Â§ö‰∏™Êåá‰ª§ÔºåÂêéÁª≠ÁöÑÊåá‰ª§Â¶ÇÊûúÊòØÁõ∏ÂØπË∑ØÂæÑÔºåÂàô‰ºöÂü∫‰∫é‰πãÂâçÂëΩ‰ª§ÊåáÂÆöÁöÑË∑ØÂæÑÔºõ</p>
<pre class=" language-shell"><code class="language-shell">WORKDIR /path/to/workdir</code></pre>
</li>
<li><p>COPYÔºö‰ªéÂÆø‰∏ªÊú∫Â§çÂà∂Êï∞ÊçÆÂà∞ÂÆπÂô®‰∏≠ Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">COPY <src> <dest>
src: ÂÆø‰∏ªÊú∫Ê∫êË∑ØÂæÑ
dest: ÂÆπÂô®ÂÜÖÁõÆÊ†áË∑ØÂæÑÔºåÂèØ‰ª•ÊòØÁªùÂØπË∑ØÂæÑÔºå‰πüÂèØ‰ª•ÊòØÂ∑•‰ΩúÁõÆÂΩï(WORKDIR)ÁöÑÁõ∏ÂØπË∑ØÂæÑÔºåÂ¶ÇÊó†Ë∑ØÂæÑ‰ºöËá™Âä®ÂàõÂª∫</code></pre>
</li>
<li><p>ADDÔºöÁ±ª‰ºº COPY Ôºå‰∏çËøáÂú®Ê∫êÊñá‰ª∂‰∏∫ tar ÂéãÁº©Êñá‰ª∂ÁöÑËØùÔºåÂéãÁº©Ê†ºÂºè‰∏∫ gzip, bzip2 , xz ÁöÑÊÉÖÂÜµ‰∏ãÔºå‰ºöËá™Âä®Â§çÂà∂Âπ∂Ëß£ÂéãÂà∞ÁõÆÊ†áË∑ØÂæÑ ÔºõÂ¶ÇÊó†Ëá™Âä®Ëß£ÂéãÁöÑÈúÄÊ±ÇÔºåËØ∑‰ºòÂÖà‰ΩøÁî® COPY Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">ADD <src> <dest>
src: ÂÆø‰∏ªÊú∫Ê∫êË∑ØÂæÑ
dest: ÂÆπÂô®ÂÜÖÁõÆÊ†áË∑ØÂæÑ

# Â¶ÇÊ∫êÊñá‰ª∂ÊòØ gzip bzip2 xz Ê†ºÂºèÁöÑÂéãÁº©Êñá‰ª∂ÔºåADD ‰ºöËá™Âä®Ëß£Âéã</code></pre>
<p>Áî®Ê≥ïÂü∫Êú¨‰∏é ADDÁõ∏ÂêåÔºå‰ΩÜÊòØ<code>&lt;src&gt;</code>Âè™ËÉΩÊòØÊú¨Âú∞‰∏ªÊú∫ÁöÑË∑ØÂæÑ</p>
</li>
<li><p>VOLUMEÔºöÂÆö‰πâÂåøÂêçÊï∞ÊçÆÂç∑ÔºåÂú®ÂêØÂä®ÂÆπÂô®Êó∂ÂøòËÆ∞ÊåÇËΩΩÊï∞ÊçÆÂç∑Ôºå‰ºöËá™Âä®ÊåÇËΩΩÂà∞ÂåøÂêçÂç∑ÔºåÈÅøÂÖçÈáçË¶ÅÁöÑÊï∞ÊçÆÔºåÂõ†ÂÆπÂô®ÈáçÂêØËÄå‰∏¢Â§± Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">VOLUME ["<Ë∑ØÂæÑ1>", "<Ë∑ØÂæÑ2>", ...]
VOLUME <Ë∑ØÂæÑ>

# Âú®ÂêØÂä®ÂÆπÂô® docker run ÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá -v ÂèÇÊï∞‰øÆÊîπÊåÇËΩΩÁÇπ</code></pre>
</li>
<li><p>EXPOSEÔºö‰ªÖ‰ªÖÂè™ÊòØÂ£∞ÊòéÂÆπÂô®ÂÜÖÊúçÂä°ÊâÄÁõëÂê¨ÁöÑÁ´ØÂè£ Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">EXPOSE <port1> <port2></code></pre>
</li>
<li><p>USERÔºöÁî®‰∫éÊåáÂÆöÂêéÁª≠ÊâßË°åÂëΩ‰ª§ÁöÑÁî®Êà∑ÂíåÁî®Êà∑ÁªÑÔºåËøôËæπÂè™ÊòØÂàáÊç¢ÂêéÁª≠ÂëΩ‰ª§ÊâßË°åÁöÑÁî®Êà∑ÔºàÁî®Êà∑ÂíåÁî®Êà∑ÁªÑÂøÖÈ°ªÊèêÂâçÂ∑≤ÁªèÂ≠òÂú®ÔºâÔºõ</p>
<pre class=" language-shell"><code class="language-shell">USER <Áî®Êà∑Âêç>[:<Áî®Êà∑ÁªÑ>]

# ÂΩìÊúçÂä°‰∏çÈúÄË¶ÅÁÆ°ÁêÜÂëòÊùÉÈôêÊó∂ÔºåÂèØ‰ª•ÈÄöËøáËØ•ÂëΩ‰ª§ÊåáÂÆöËøêË°åÁî®Êà∑
RUN groupadd -r postgres && useradd -r -g postgres postgres</code></pre>
</li>
<li><p>ONBUILDÔºöÈÖçÁΩÆÂΩìÊâÄÂàõÂª∫ÁöÑÈïúÂÉè‰Ωú‰∏∫ÂÖ∂‰ªñÈïúÂÉèÁöÑÂü∫Á°ÄÈïúÂÉèÊó∂ÔºåÊâÄÊâßË°åÁöÑÂàõÂª∫Êìç‰ΩúÊåá‰ª§ ÔºåÂèØ‰ª•ÊúâÂ§ö‰∏™ ONBUILD Êåá‰ª§ Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">ONBUILD [instruction]
# Á§∫‰æãÔºö
ONBUILD ADD . /app/src</code></pre>
</li>
<li><p>STOPSIGNALÔºöÊåáÂÆöÈïúÂÉèÊûÑÂª∫ÁöÑÂÆπÂô®Êé•Êî∂ÁöÑÈÄÄÂá∫‰ø°Âè∑ÁöÑÂÄº Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">STOPSIGNAL signal</code></pre>
</li>
<li><p>HEALTHCHECKÔºöÁî®‰∫éÊåáÂÆöÊüê‰∏™Á®ãÂ∫èÊàñËÄÖÊåá‰ª§Êù•ÁõëÊéß docker ÂÆπÂô®ÊúçÂä°ÁöÑËøêË°åÁä∂ÊÄÅ Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">HEALTHCHECK [Options] CMD commandÔºöËÆæÁΩÆÊ£ÄÊü•ÂÆπÂô®ÂÅ•Â∫∑Áä∂ÂÜµÁöÑÂëΩ‰ª§ÔºåÊ†πÊçÆÊâÄÊâßË°åÂëΩ‰ª§ËøîÂõûÂÄºÊù•Âà§Êñ≠ ;
[Options]:
     --interval=DURARION (ÈªòËÆ§Ôºö30s)ÔºöÂ§ö‰πÖÊ£ÄÊü•‰∏ÄÊ¨°
     --timeout=DURARION (ÈªòËÆ§Ôºö30s)ÔºöÊØèÊ¨°Ê£ÄÊü•Á≠âÂæÖÁªìÊûúÁöÑË∂ÖÊó∂Êó∂Èó¥
     --retries=N (ÈªòËÆ§Ôºö3)ÔºöÂ¶ÇÊûúÂ§±Ë¥•‰∫ÜÔºåÈáçËØïÂá†Ê¨°ÊâçÊúÄÁªàÁ°ÆÂÆöÂ§±Ë¥•

# Á¶ÅÊ≠¢Âü∫Á°ÄÈïúÂÉè‰∏≠ÁöÑÂÅ•Â∫∑Ê£ÄÊü•
HEALTHCHECK NONE</code></pre>
</li>
<li><p>SHELLÔºöÊåáÂÆöÂÖ∂‰ªñÂëΩ‰ª§‰ΩøÁî® shell Êó∂ÈªòËÆ§ÁöÑ shell Á±ªÂûãÔºåÈªòËÆ§ÂÄº‰∏∫Ôºö[‚Äú/bin/sh‚Äù, ‚Äú-c‚Äù] Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">SHELL ["executable", "parameters"]</code></pre>
</li>
<li><p>  MAINTAINERÔºöÊåáÂÆöÁª¥Êä§ËÄÖ‰ø°ÊÅØ Ôºõ</p>
</li>
<li><p>LABELÔºöÁî®Êù•ÁîüÊàêÈïúÂÉèÁöÑÂÖÉÊï∞ÊçÆÊ†áÁ≠æ‰ø°ÊÅØÔºåÂèØ‰ª•ÊúâÂ§ö‰∏™ LABEL Ôºõ</p>
<pre class=" language-shell"><code class="language-shell">LABEL <key> <value>
LABEL <key>=<value>
# Á§∫‰æãÔºö
LABEL version="1.0"</code></pre>
</li>
</ul>
</blockquote>
<h2 id="Á§∫‰æã"><a href="#Á§∫‰æã" class="headerlink" title="Á§∫‰æã"></a>Á§∫‰æã</h2><pre class=" language-dockerfile"><code class="language-dockerfile">FROM python:3.8-buster

MAINTAINER Chen

ENV LC_ALL C.UTF-8
ENV LANG C.UTF-8
ENV TZ Asia/Shanghai

WORKDIR  /app

COPY ./the_first/ /app/the_first/

RUN pip install gunicorn && \
    pip install -i https://pypi.tuna.tsinghua.edu.cn/simple/ -r /app/the_first/requirements.txt

CMD cd ./the_first && \
    python3 manage.py collectstatic --noinput && \
    gunicorn --workers 2  --log-level debug --bind '0.0.0.0:8000'  'the_first.wsgi'</code></pre>
<h1 id="Docker-compose"><a href="#Docker-compose" class="headerlink" title="Docker-compose"></a>Docker-compose</h1><h2 id="ËØ≠Ê≥ïËßÑÂàô-1"><a href="#ËØ≠Ê≥ïËßÑÂàô-1" class="headerlink" title="ËØ≠Ê≥ïËßÑÂàô"></a>ËØ≠Ê≥ïËßÑÂàô</h2><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3'</span>

<span class="token comment" spellcheck="true"># ÂàõÂª∫ÂÆπÂô®Êï∞ÊçÆÂç∑</span>
<span class="token key atrule">volumes</span><span class="token punctuation">:</span>
  <span class="token comment" spellcheck="true"># Êï∞ÊçÆÂç∑Âêç</span>
  <span class="token key atrule">static</span><span class="token punctuation">:</span>

<span class="token comment" spellcheck="true"># ÂàõÂª∫ÁΩëÁªú</span>
<span class="token key atrule">networks</span><span class="token punctuation">:</span>
  <span class="token comment" spellcheck="true"># ÁΩëÁªúÂêçÁß∞</span>
  <span class="token key atrule">django_network</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># ÁΩëÁªúÊ®°Âºè</span>
    <span class="token key atrule">driver</span><span class="token punctuation">:</span> bridge

<span class="token comment" spellcheck="true"># ÂàõÂª∫Âä†ÂØÜÊñá‰ª∂</span>
<span class="token key atrule">secrets</span><span class="token punctuation">:</span>
  <span class="token key atrule">my_secret</span><span class="token punctuation">:</span>
    <span class="token key atrule">file</span><span class="token punctuation">:</span> ./my_secret.txt

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token comment" spellcheck="true"># ÂÆö‰πâ‰∏Ä‰∏™ÊúçÂä°Âêç</span>
  <span class="token key atrule">the_first_django</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># ÊåáÂÆöÊûÑÂª∫ÂÆπÂô®ÁöÑ Dockerfile ÊâÄÂú®ÁöÑË∑ØÂæÑ</span>
    <span class="token key atrule">build</span><span class="token punctuation">:</span>
      <span class="token comment" spellcheck="true"># ÊåáÂÆö‰∏ä‰∏ãÊñáÁéØÂ¢ÉÔºåÊòØÂü∫‰∫é compose.yml ÁöÑÁõ∏ÂØπË∑ØÂæÑ</span>
      <span class="token key atrule">context</span><span class="token punctuation">:</span> ./
      <span class="token comment" spellcheck="true"># ÊåáÂÆö DockerfileÁöÑË∑ØÂæÑÔºåÊòØ Âü∫‰∫é context ÁöÑÁõ∏ÂØπË∑ØÂæÑ</span>
      <span class="token key atrule">dockerfile</span><span class="token punctuation">:</span> compose/production/django/Dockerfile
      <span class="token comment" spellcheck="true"># ÊåáÂÆöÊûÑÂª∫ËøáÁ®ã‰∏≠ÁöÑÁéØÂ¢ÉÂèòÈáèÔºåÊûÑÂª∫ÂêéÂà†Èô§</span>
      <span class="token key atrule">args</span><span class="token punctuation">:</span>
        <span class="token key atrule">buildno</span><span class="token punctuation">:</span> <span class="token number">1</span>
        <span class="token key atrule">password</span><span class="token punctuation">:</span> secret

    <span class="token comment" spellcheck="true"># ÊåáÂÆöÂÆπÂô®ËøêË°åÁöÑÈïúÂÉèÔºå‰∏ç‰ΩøÁî® build</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> django<span class="token punctuation">:</span>latest

    <span class="token comment" spellcheck="true"># ÊåáÂÆöÂÆπÂô®ÂêçÁß∞</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> the_first

    <span class="token comment" spellcheck="true"># ÁΩëÁªúÊ®°ÂºèÔºöbridgeÔΩúhostÔΩúnone</span>
    <span class="token comment" spellcheck="true"># network_mode: "service:[service name]"</span>
    <span class="token comment" spellcheck="true"># network_mode: "container:[container name/id]"</span>
    <span class="token key atrule">network_mode</span><span class="token punctuation">:</span> <span class="token string">"bridge"</span>

    <span class="token comment" spellcheck="true"># Âä†ÂÖ•ÊåáÂÆöÁöÑÁΩëÁªú</span>
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> django_network

    <span class="token comment" spellcheck="true"># Êò†Â∞ÑÁ´ØÂè£(ÂÆø‰∏ªÊú∫:ÂÆπÂô®)</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"8000:8000"</span>

    <span class="token comment" spellcheck="true"># Êö¥Èú≤Á´ØÂè£Ôºå‰ΩÜ‰∏çÊò†Â∞ÑÂà∞ÂÆø‰∏ªÊú∫ÔºåÂè™Ë¢´ËøûÊé•ÁöÑÊúçÂä°ËÆøÈóÆ</span>
    <span class="token key atrule">expose</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">'8080'</span>

      <span class="token comment" spellcheck="true"># ËÆæÁΩÆÂÆπÂô®Ëá™Âä®ÈáçÂêØÁ≠ñÁï•</span>
      <span class="token comment" spellcheck="true"># noÔºöÈªòËÆ§ÔºåÂú®‰ªª‰ΩïÊÉÖÂÜµ‰∏ãÈÉΩ‰∏ç‰ºöÈáçÂêØÂÆπÂô®„ÄÇ</span>
      <span class="token comment" spellcheck="true"># alwaysÔºöÊÄªÊòØÈáçÊñ∞ÂêØÂä®</span>
      <span class="token comment" spellcheck="true"># on-failureÔºöÂú®ÂÆπÂô®ÈùûÊ≠£Â∏∏ÈÄÄÂá∫Êó∂ÔºàÈÄÄÂá∫Áä∂ÊÄÅÈùû0ÔºâÔºåÊâç‰ºöÈáçÂêØÂÆπÂô®„ÄÇ</span>
      <span class="token comment" spellcheck="true"># unless-stoppedÔºöÊÄªÊòØÈáçÂêØÂÆπÂô®Ôºå‰ΩÜÊòØ‰∏çËÄÉËôëÂú®DockerÂÆàÊä§ËøõÁ®ãÂêØÂä®Êó∂Â∞±Â∑≤ÁªèÂÅúÊ≠¢‰∫ÜÁöÑÂÆπÂô®</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> on<span class="token punctuation">-</span>failure<span class="token punctuation">:</span><span class="token number">3</span>

    <span class="token comment" spellcheck="true"># ÊòØÂê¶Êã•ÊúâÂÆø‰∏ªÊú∫ root ÊùÉÈôê</span>
    <span class="token key atrule">privileged</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>

    <span class="token comment" spellcheck="true"># Ê∑ªÂä†ÁéØÂ¢ÉÂèòÈáè</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">RACK_ENV</span><span class="token punctuation">:</span> development
      <span class="token comment" spellcheck="true"># Â∏ÉÂ∞îÂÄºÈúÄË¶ÅÁî®ÂºïÂè∑ÂºïËµ∑Êù•Ôºå‰ª•Á°Æ‰øù YML Ëß£ÊûêÂô®‰∏ç‰ºöÂ∞ÜÂÖ∂ËΩ¨Êç¢‰∏∫ True Êàñ False</span>
      <span class="token punctuation">-</span> <span class="token key atrule">SHOW</span><span class="token punctuation">:</span> <span class="token string">'true'</span>

    <span class="token comment" spellcheck="true"># ‰ªéÊñá‰ª∂Ê∑ªÂä†ÁéØÂ¢ÉÂèòÈáè</span>
    <span class="token key atrule">env_file</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./common.env

    <span class="token comment" spellcheck="true"># ÊåÇËΩΩ‰∏Ä‰∏™ÁõÆÂΩïÊàñËÄÖÂ∑≤ÁªèÂ≠òÂú®ÁöÑÊï∞ÊçÆÂç∑ÂÆπÂô®</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> static<span class="token punctuation">:</span>/app/the_first/static/  <span class="token comment" spellcheck="true"># Â∞ÜËØ•ÂÆπÂô®ÁöÑÈùôÊÄÅÊñá‰ª∂ÂÖ±‰∫´Âà∞ÂÖ∂‰ªñÁöÑÂÆπÂô®‰∏≠</span>
      <span class="token punctuation">-</span> /opt/data<span class="token punctuation">:</span>/var/lib/mysql  <span class="token comment" spellcheck="true"># ‰ΩøÁî®ÁªùÂØπË∑ØÂæÑÊåÇËΩΩÊï∞ÊçÆÂç∑</span>
      <span class="token comment" spellcheck="true"># :ro Ë°®Á§∫‰∏∫Âè™ËØª</span>
      <span class="token punctuation">-</span> ./configs<span class="token punctuation">:</span>/etc/configs/<span class="token punctuation">:</span>ro  <span class="token comment" spellcheck="true"># ‰ΩøÁî®‰ª• Compose ÈÖçÁΩÆÊñá‰ª∂‰∏∫Âü∫Êú¨Ë∑ØÂæÑÁöÑÁõ∏ÂØπË∑ØÂæÑ</span>

    <span class="token comment" spellcheck="true"># ÂÆπÂô®ÂêØÂä®ÂêéÊâßË°åÁöÑÂëΩ‰ª§</span>
    <span class="token comment" spellcheck="true"># command: /start.sh</span>

    <span class="token comment" spellcheck="true"># ENTRYPOINTÔºåË¶ÜÁõñ RUN ÂëΩ‰ª§ Âíå Dockerfile ‰∏≠ÁöÑÂêåÂêçÊåá‰ª§</span>
    <span class="token comment" spellcheck="true"># entrypoint: /code/entrypoint.sh</span>

    <span class="token comment" spellcheck="true"># ÂÆπÂô®‰æùËµñ</span>
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> mysql<span class="token punctuation">-</span>django  <span class="token comment" spellcheck="true"># Âè¶Â§ñÁöÑÊúçÂä°Âêç</span>
      <span class="token punctuation">-</span> redis<span class="token punctuation">-</span>django

    <span class="token comment" spellcheck="true"># ÊåáÂÆöËÆæÂ§áÊò†Â∞ÑÂàóË°®</span>
    <span class="token key atrule">devices</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"/dev/ttyUSB0:/dev/ttyUSB0"</span>

    <span class="token comment" spellcheck="true"># Ëá™ÂÆö‰πâ DNS ÊúçÂä°Âô®</span>
    <span class="token key atrule">dns</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 8.8.8.8
      <span class="token punctuation">-</span> 9.9.9.9

    <span class="token comment" spellcheck="true"># Ëá™ÂÆö‰πâ DNS ÊêúÁ¥¢Âüü</span>
    <span class="token key atrule">dns_search</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> dc1.example.com
      <span class="token punctuation">-</span> dc2.example.com

    <span class="token comment" spellcheck="true"># Ê∑ªÂä†‰∏ªÊú∫ÂêçÊò†Â∞ÑÔºåÁ±ª‰ºº docker client --add-host</span>
    <span class="token comment" spellcheck="true"># ‰ºöÂú®Ê≠§ÊúçÂä°ÁöÑÂÜÖÈÉ®ÂÆπÂô®ÁöÑ /etc/hosts ‰∏≠ÂàõÂª∫ IP Âíå‰∏ªÊú∫ÂêçÁöÑÊò†Â∞ÑÂÖ≥Á≥ª</span>
    <span class="token key atrule">extra_hosts</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"somehost:162.242.195.82"</span>
      <span class="token punctuation">-</span> <span class="token string">"otherhost:50.31.209.229"</span>

    <span class="token comment" spellcheck="true"># Â≠òÂÇ®ÊïèÊÑüÊï∞ÊçÆÔºå‰æãÂ¶ÇÂØÜÁ†Å</span>
    <span class="token key atrule">secrets</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> my_secret

    <span class="token comment" spellcheck="true"># Âú®ÂÆπÂô®ÂÜÖÂÆâË£Ö‰∏Ä‰∏™‰∏¥Êó∂Êñá‰ª∂Á≥ªÁªü</span>
    <span class="token key atrule">tmpfs</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /tmp

    <span class="token comment" spellcheck="true"># Áî®‰∫éÊ£ÄÊµã docker ÊúçÂä°ÊòØÂê¶ÂÅ•Â∫∑ËøêË°å</span>
    <span class="token key atrule">healthcheck</span><span class="token punctuation">:</span>
      <span class="token key atrule">test</span><span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token string">"CMD"</span><span class="token punctuation">,</span> <span class="token string">"curl"</span><span class="token punctuation">,</span> <span class="token string">"-f"</span><span class="token punctuation">,</span> <span class="token string">"http://localhost"</span> <span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># ËÆæÁΩÆÊ£ÄÊµãÁ®ãÂ∫è</span>
      <span class="token key atrule">interval</span><span class="token punctuation">:</span> 1m30s <span class="token comment" spellcheck="true"># ËÆæÁΩÆÊ£ÄÊµãÈó¥Èöî</span>
      <span class="token key atrule">timeout</span><span class="token punctuation">:</span> 10s <span class="token comment" spellcheck="true"># ËÆæÁΩÆÊ£ÄÊµãË∂ÖÊó∂Êó∂Èó¥</span>
      <span class="token key atrule">retries</span><span class="token punctuation">:</span> <span class="token number">3 </span><span class="token comment" spellcheck="true"># ËÆæÁΩÆÈáçËØïÊ¨°Êï∞</span>
      <span class="token key atrule">start_period</span><span class="token punctuation">:</span> 40s <span class="token comment" spellcheck="true"># ÂêØÂä®ÂêéÔºåÂ§öÂ∞ëÁßíÂºÄÂßãÂêØÂä®Ê£ÄÊµãÁ®ãÂ∫è</span>

    <span class="token comment" spellcheck="true"># ÈìæÊé•Âà∞ÂÖ∂ÂÆÉÊúçÂä°Âô®‰∏≠ÁöÑÂÆπÂô®</span>
    <span class="token key atrule">links</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> db
      <span class="token punctuation">-</span> db<span class="token punctuation">:</span>mysql
      <span class="token punctuation">-</span> redis

    <span class="token comment" spellcheck="true"># ËÆ© compose È°πÁõÆÈáåÈù¢ÁöÑÂÆπÂô®ÈìæÊé•Âà∞È°πÁõÆÈÖçÁΩÆÂ§ñÈÉ®ÁöÑÂÆπÂô®ÔºàÂ§ñÈÉ®ÂÆπÂô®‰∏≠ÂøÖÈ°ªËá≥Â∞ëÊúâ‰∏Ä‰∏™ÂÆπÂô®ÈìæÊé•Âà∞È°πÁõÆÂÜÖÊúçÂä°ÁöÑÂêå‰∏Ä‰∏™ÁΩëÁªúÈáåÔºâ</span>
    <span class="token key atrule">external_links</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> redis_1
      <span class="token punctuation">-</span> project_db_1<span class="token punctuation">:</span>mysql
      <span class="token punctuation">-</span> project_db_1<span class="token punctuation">:</span>postgresql

    <span class="token comment" spellcheck="true"># ÊúçÂä°ÁöÑÊó•ÂøóËÆ∞ÂΩïÈÖçÁΩÆ</span>
    <span class="token key atrule">logging</span><span class="token punctuation">:</span>
      <span class="token comment" spellcheck="true"># ÊåáÂÆöÊúçÂä°ÂÆπÂô®ÁöÑÊó•ÂøóËÆ∞ÂΩïÈ©±Âä®Á®ãÂ∫è: json-file/syslog/none</span>
      <span class="token key atrule">driver</span><span class="token punctuation">:</span> json<span class="token punctuation">-</span>file
      <span class="token key atrule">options</span><span class="token punctuation">:</span>
        <span class="token comment" spellcheck="true"># ÂΩì driver: syslog Êó∂</span>
        <span class="token comment" spellcheck="true"># syslog-address: "tcp://ip"  # ÊåáÂÆöÊó•ÂøóÊé•Êî∂Âú∞ÂùÄ</span>

        <span class="token comment" spellcheck="true"># ÂΩì driver: json-file Êó∂</span>
        <span class="token key atrule">max-size</span><span class="token punctuation">:</span> <span class="token string">"200k"</span>  <span class="token comment" spellcheck="true"># Âçï‰∏™Êñá‰ª∂Â§ßÂ∞è‰∏∫ 200 k</span>
        <span class="token key atrule">max-file</span><span class="token punctuation">:</span> <span class="token string">"10"</span>  <span class="token comment" spellcheck="true"># ÊúÄÂ§ö10‰∏™Êñá‰ª∂</span>

  <span class="token comment" spellcheck="true"># Ë¢´‰æùËµñÁöÑÊúçÂä°</span>
  <span class="token key atrule">redis-django</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> redis

  <span class="token key atrule">mysql-django</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> mysql</code></pre>
<h2 id="Â∏∏Áî®ÂëΩ‰ª§"><a href="#Â∏∏Áî®ÂëΩ‰ª§" class="headerlink" title="Â∏∏Áî®ÂëΩ‰ª§"></a>Â∏∏Áî®ÂëΩ‰ª§</h2><pre class=" language-shell"><code class="language-shell"># -f  ÊåáÂÆö‰ΩøÁî®ÁöÑ Compose Ê®°ÊùøÊñá‰ª∂ÔºåÈªòËÆ§‰∏∫ docker-compose.ymlÔºåÂèØ‰ª•Â§öÊ¨°ÊåáÂÆö„ÄÇ
docker-compose -f docker-compose.yml up -d

# ÂêØÂä®ÊâÄÊúâÂÆπÂô®Ôºå-d Â∞Ü‰ºöÂú®ÂêéÂè∞ÂêØÂä®Âπ∂ËøêË°åÊâÄÊúâÁöÑÂÆπÂô®
docker-compose up -d

# ÂÅúÁî®ÁßªÈô§ÊâÄÊúâÂÆπÂô®‰ª•ÂèäÁΩëÁªúÁõ∏ÂÖ≥
docker-compose down

# Êü•ÁúãÊúçÂä°ÂÆπÂô®ÁöÑËæìÂá∫
docker-compose logs

# ÂàóÂá∫È°πÁõÆ‰∏≠ÁõÆÂâçÁöÑÊâÄÊúâÂÆπÂô®
docker-compose ps

# ÊûÑÂª∫ÔºàÈáçÊñ∞ÊûÑÂª∫ÔºâÈ°πÁõÆ‰∏≠ÁöÑÊúçÂä°ÂÆπÂô®„ÄÇÊúçÂä°ÂÆπÂô®‰∏ÄÊó¶ÊûÑÂª∫ÂêéÔºåÂ∞Ü‰ºöÂ∏¶‰∏ä‰∏Ä‰∏™Ê†áËÆ∞ÂêçÔºå‰æãÂ¶ÇÂØπ‰∫é web È°πÁõÆ‰∏≠ÁöÑ‰∏Ä‰∏™ db ÂÆπÂô®ÔºåÂèØËÉΩÊòØ web_db„ÄÇÂèØ‰ª•ÈöèÊó∂Âú®È°πÁõÆÁõÆÂΩï‰∏ãËøêË°å docker-compose build Êù•ÈáçÊñ∞ÊûÑÂª∫ÊúçÂä°
docker-compose build

# ÊãâÂèñÊúçÂä°‰æùËµñÁöÑÈïúÂÉè
docker-compose pull

# ÈáçÂêØÈ°πÁõÆ‰∏≠ÁöÑÊúçÂä°
docker-compose restart

# Âà†Èô§ÊâÄÊúâÔºàÂÅúÊ≠¢Áä∂ÊÄÅÁöÑÔºâÊúçÂä°ÂÆπÂô®„ÄÇÊé®ËçêÂÖàÊâßË°å docker-compose stop ÂëΩ‰ª§Êù•ÂÅúÊ≠¢ÂÆπÂô®„ÄÇ
docker-compose rm

# Âú®ÊåáÂÆöÊúçÂä°‰∏äÊâßË°å‰∏Ä‰∏™ÂëΩ‰ª§„ÄÇ
docker-compose run ubuntu ping docker.com

# ËÆæÁΩÆÊåáÂÆöÊúçÂä°ËøêË°åÁöÑÂÆπÂô®‰∏™Êï∞„ÄÇÈÄöËøá service=num ÁöÑÂèÇÊï∞Êù•ËÆæÁΩÆÊï∞Èáè
docker-compose scale web=3 db=2

# ÂêØÂä®Â∑≤ÁªèÂ≠òÂú®ÁöÑÊúçÂä°ÂÆπÂô®„ÄÇ
docker-compose start

# ÂÅúÊ≠¢Â∑≤ÁªèÂ§Ñ‰∫éËøêË°åÁä∂ÊÄÅÁöÑÂÆπÂô®Ôºå‰ΩÜ‰∏çÂà†Èô§ÂÆÉ„ÄÇÈÄöËøá docker-compose start ÂèØ‰ª•ÂÜçÊ¨°ÂêØÂä®Ëøô‰∫õÂÆπÂô®„ÄÇ
docker-compose stop</code></pre>
<h2 id="Á§∫‰æã-1"><a href="#Á§∫‰æã-1" class="headerlink" title="Á§∫‰æã"></a>Á§∫‰æã</h2><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3'</span>

<span class="token key atrule">volumes</span><span class="token punctuation">:</span>
  <span class="token key atrule">static</span><span class="token punctuation">:</span>
  <span class="token key atrule">media</span><span class="token punctuation">:</span>

<span class="token key atrule">networks</span><span class="token punctuation">:</span>
  <span class="token key atrule">django_network</span><span class="token punctuation">:</span>
    <span class="token key atrule">driver</span><span class="token punctuation">:</span> bridge

<span class="token key atrule">services</span><span class="token punctuation">:</span>

  <span class="token comment" spellcheck="true"># mysql ÊúçÂä°</span>
  <span class="token key atrule">mysql-django</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> mysql<span class="token punctuation">:</span>latest
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> mysql<span class="token punctuation">-</span>django
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> django_network
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 13306<span class="token punctuation">:</span><span class="token number">3306</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">privileged</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">TZ</span><span class="token punctuation">:</span> Asia/Shanghai
      <span class="token key atrule">MYSQL_ROOT_PASSWORD</span><span class="token punctuation">:</span> mysql13306123456
      <span class="token key atrule">MYSQL_DATABASE</span><span class="token punctuation">:</span> the_first
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /usr/local/workspace/mysql/data/<span class="token punctuation">:</span>/var/lib/mysql/
    <span class="token key atrule">command</span><span class="token punctuation">:</span>
      <span class="token comment" spellcheck="true"># MySQL8.0 ‰πãÂêéÔºåÈªòËÆ§ÁöÑÂä†ÂØÜËßÑÂàô‰ΩøÁî®ÁöÑÊòØ caching_sha2_password</span>
      <span class="token comment" spellcheck="true"># ÂÆ¢Êà∑Á´ØÂ∑•ÂÖ∑‰∏çÊîØÊåÅÔºåÊâÄ‰ª•‰∏çË¶Å‰øÆÊîπÂÖ∂Âä†ÂØÜËßÑÂàô</span>
      <span class="token punctuation">-</span><span class="token punctuation">-</span>default<span class="token punctuation">-</span>authentication<span class="token punctuation">-</span>plugin=mysql_native_password
      <span class="token punctuation">-</span><span class="token punctuation">-</span>character<span class="token punctuation">-</span>set<span class="token punctuation">-</span>server=utf8mb4
      <span class="token punctuation">-</span><span class="token punctuation">-</span>collation<span class="token punctuation">-</span>server=utf8mb4_unicode_ci

  <span class="token comment" spellcheck="true"># redis ÊúçÂä°</span>
  <span class="token key atrule">redis-django</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> redis<span class="token punctuation">:</span>latest
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> redis<span class="token punctuation">-</span>django
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> django_network
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 16379<span class="token punctuation">:</span><span class="token number">6379</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">privileged</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">TZ</span><span class="token punctuation">:</span> Asia/Shanghai
    <span class="token comment" spellcheck="true"># ÂÆπÂô®ÂêØÂä®ÂêéÔºåÂêØÂä®Ê†πÊçÆÈÖçÁΩÆÊñá‰ª∂ÂêØÂä® redis-server</span>
    <span class="token key atrule">command</span><span class="token punctuation">:</span> redis<span class="token punctuation">-</span>server /etc/redis/redis.conf <span class="token punctuation">-</span><span class="token punctuation">-</span>appendonly yes <span class="token punctuation">-</span><span class="token punctuation">-</span>requirepass 'redis16379123456'
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /usr/local/workspace/redis/data<span class="token punctuation">:</span>/data/
      <span class="token punctuation">-</span> /usr/local/workspace/redis/redis.conf<span class="token punctuation">:</span>/etc/redis/redis.conf/

  <span class="token comment" spellcheck="true"># django ÊúçÂä°</span>
  <span class="token key atrule">the_first</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> the_first<span class="token punctuation">:</span>latest
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> the_first
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> django_network
    <span class="token key atrule">expose</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">'8000'</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">privileged</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">TZ</span><span class="token punctuation">:</span> Asia/Shanghai
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> static<span class="token punctuation">:</span>/app/the_first/static/  <span class="token comment" spellcheck="true"># Â∞ÜËØ•ÂÆπÂô®ÁöÑÈùôÊÄÅÊñá‰ª∂ÂÖ±‰∫´Âà∞ÂÖ∂‰ªñÁöÑÂÆπÂô®‰∏≠</span>
      <span class="token punctuation">-</span> media<span class="token punctuation">:</span>/app/the_first/media/
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> mysql<span class="token punctuation">-</span>django
      <span class="token punctuation">-</span> redis<span class="token punctuation">-</span>django

  <span class="token comment" spellcheck="true"># nginx ÊúçÂä°</span>
  <span class="token key atrule">nginx-django</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx<span class="token punctuation">:</span>latest
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> nginx<span class="token punctuation">-</span>django
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> django_network
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token datetime number">80:80</span>
      <span class="token punctuation">-</span> 443<span class="token punctuation">:</span><span class="token number">443</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">privileged</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">TZ</span><span class="token punctuation">:</span> Asia/Shanghai
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token comment" spellcheck="true"># ‰∏é django ÊúçÂä°ÂÖ±‰∫´ static media ÁõÆÂΩï</span>
      <span class="token punctuation">-</span> static<span class="token punctuation">:</span>/app/the_first/static/
      <span class="token punctuation">-</span> media<span class="token punctuation">:</span>/app/the_first/media/
      <span class="token punctuation">-</span> /usr/local/workspace/nginx/conf/nginx.conf<span class="token punctuation">:</span>/etc/nginx/nginx.conf
      <span class="token punctuation">-</span> /usr/local/workspace/nginx/conf.d<span class="token punctuation">:</span>/etc/nginx/conf.d
      <span class="token punctuation">-</span> /usr/local/workspace/nginx/html<span class="token punctuation">:</span>/usr/share/nginx/html
      <span class="token punctuation">-</span> /usr/local/workspace/nginx/log<span class="token punctuation">:</span>/var/log/nginx
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> the_first</code></pre>
<h1 id="Docker-ÂëΩ‰ª§Âø´Êç∑Ê†è"><a href="#Docker-ÂëΩ‰ª§Âø´Êç∑Ê†è" class="headerlink" title="Docker ÂëΩ‰ª§Âø´Êç∑Ê†è"></a>Docker ÂëΩ‰ª§Âø´Êç∑Ê†è</h1><blockquote>
<ul>
<li><p>ËÆæÁΩÆ docker ÂºÄÊú∫Ëá™Âä®ÂêØÂä®(ÊúçÂä°Âô®ÈáçÂêØÂêéËá™Âä®ÈáçÂêØ)</p>
<pre class=" language-shell"><code class="language-shell">$ systemctl enable docker</code></pre>
</li>
<li><p>ËøõÂéªÂÆπÂô®ÂÜÖÈÉ®</p>
<pre class=" language-shell"><code class="language-shell">$ docker exec -it ÂÆπÂô®id/name /bin/bash</code></pre>
</li>
<li><p>ÂêØÂä®‰∏Ä‰∏™ redis ÂÆπÂô®</p>
<pre class=" language-shell"><code class="language-shell">$ docker run -itd -p 16379:6379 --name='redis-django' --network='bridge' --restart='always' \
-v /usr/local/workspace/redis/data:/data \
-v /usr/local/workspace/redis/redis.conf:/etc/redis/redis.conf \
redis redis-server /etc/redis/redis.conf --appendonly yes --requirepass 'redis16379123456'

# ÂèÇÊï∞Ëß£ÈáäÔºö
# ÊåÇËΩΩÊï∞ÊçÆÂç∑ÂíåÈÖçÁΩÆÊñá‰ª∂
-v /usr/local/workspace/redis/data:/data
-v /usr/local/workspace/redis/redis.conf:/etc/redis/redis.conf
# ‰ΩøÁî®ÈÖçÁΩÆÊñá‰ª∂ÂêØÂä®
/etc/redis/redis.conf
--appendonly yes: ÂºÄÂêØÊåÅ‰πÖÂåñ
--requirepass 'redis16379123456': ËÆæÁΩÆÂØÜÁ†Å</code></pre>
</li>
<li><p>ÂêØÂä®‰∏Ä‰∏™ mysql ÂÆπÂô®</p>
<pre class=" language-shell"><code class="language-shell">$ docker run -itd -p 13306:3306 --name='mysql-django' --network='bridge' --restart='always' -e MYSQL_ROOT_PASSWORD=mysql13306123456 \
-v /usr/local/workspace/mysql/data:/var/lib/mysql \
mysql:latest

# ÂèÇÊï∞Ëß£ÈáäÔºö
# ÊåÇËΩΩÊï∞ÊçÆÂç∑ÂíåÈÖçÁΩÆÊñá‰ª∂
-v /usr/local/workspace/mysql/data:/var/lib/mysql
-v /usr/local/workspace/mysql/etc:/etc/mysql
-e: ‰∏∫ÂÆπÂô®ËÆæÁΩÆÁéØÂ¢ÉÂèòÈáèÔºå‰∏∫ mysql ÂàùÂßãÂØÜÁ†Å</code></pre>
</li>
<li><p>ÂêØÂä®‰∏Ä‰∏™ rabbitmq ÂÆπÂô®</p>
<pre class=" language-shell"><code class="language-shell">$ docker run -itd  -p 5672:5672 --name='rabbitmq-django' --network='bridge' --restart='always' rabbitmq:latest

# Á´ØÂè£ÂèÇÊï∞Ëß£ÈáäÔºö
5672„ÄÅ5671: AMQP 0-9-1 without and with TLSclient Á´ØÈÄö‰ø°Âè£
15671: ÁÆ°ÁêÜÁõëÂê¨Á´ØÂè£
15672: ÁÆ°ÁêÜÁïåÈù¢ui‰ΩøÁî®ÁöÑÁ´ØÂè£
25672: (Erlang distributionÔºâserver Èó¥ÂÜÖÈÉ®ÈÄö‰ø°Âè£
4369: Ôºàepmd)epmd‰ª£Ë°® Erlang Á´ØÂè£Êò†Â∞ÑÂÆàÊä§ËøõÁ®ãÔºåerlang ÂèëÁé∞Âè£</code></pre>
</li>
<li><p>ÂêØÂä®‰∏Ä‰∏™ nginx ÂÆπÂô®</p>
<p>  ```shell<br>  $ docker run -itd -p 80:80 ‚Äìname=‚Äônginx-django‚Äô ‚Äìnetwork=‚Äôbridge‚Äô ‚Äìrestart=‚Äôalways‚Äô <br>  -v /usr/local/workspace/nginx/conf/nginx.conf:/etc/nginx/nginx.conf \</p>
</li>
<li><p>v /usr/local/workspace/nginx/conf.d:/etc/nginx/conf.d <br>   -v /usr/local/workspace/nginx/html:/usr/share/nginx/html <br>   -v /usr/local/workspace/nginx/log:/var/log/nginx <br>   nginx</p>
<h1 id="ÂèÇÊï∞Ëß£ÈáäÔºö"><a href="#ÂèÇÊï∞Ëß£ÈáäÔºö" class="headerlink" title="ÂèÇÊï∞Ëß£ÈáäÔºö"></a>ÂèÇÊï∞Ëß£ÈáäÔºö</h1><h1 id="Â∞ÜÂÆø‰∏ªÊú∫-workspace-nginx-‰∏ãÁöÑÈÖçÁΩÆÊñá‰ª∂„ÄÅÊó•Âøó„ÄÅhtml-Êñá‰ª∂ÊåÇËΩΩÂà∞-Nginx-ÂÆπÂô®‰∏≠"><a href="#Â∞ÜÂÆø‰∏ªÊú∫-workspace-nginx-‰∏ãÁöÑÈÖçÁΩÆÊñá‰ª∂„ÄÅÊó•Âøó„ÄÅhtml-Êñá‰ª∂ÊåÇËΩΩÂà∞-Nginx-ÂÆπÂô®‰∏≠" class="headerlink" title="Â∞ÜÂÆø‰∏ªÊú∫ workspace/nginx/ ‰∏ãÁöÑÈÖçÁΩÆÊñá‰ª∂„ÄÅÊó•Âøó„ÄÅhtml Êñá‰ª∂ÊåÇËΩΩÂà∞ Nginx ÂÆπÂô®‰∏≠"></a>Â∞ÜÂÆø‰∏ªÊú∫ workspace/nginx/ ‰∏ãÁöÑÈÖçÁΩÆÊñá‰ª∂„ÄÅÊó•Âøó„ÄÅhtml Êñá‰ª∂ÊåÇËΩΩÂà∞ Nginx ÂÆπÂô®‰∏≠</h1><p>   -v /usr/local/workspace/nginx/conf/nginx.conf:/etc/nginx/nginx.conf<br>   -v /usr/local/workspace/nginx/conf.d:/etc/nginx/conf.d<br>   -v /usr/local/workspace/nginx/html:/usr/share/nginx/html<br>   -v /usr/local/workspace/nginx/log:/var/log/nginx</p>
<pre><code></code></pre>
</li>
<li><p>ÂêØÂä®‰∏Ä‰∏™ Django È°πÁõÆ</p>
<pre class=" language-shell"><code class="language-shell">$ docker run -itd -p 8000:8000 --name='django' --network='bridge' --restart='always' django</code></pre>
</li>
</ul>
</blockquote>
</div><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>Â§©Âê¨</li><li class="post-copyright-link"><strong>Post link: </strong><a href="http://godhearing.cn/2021/03/09/docker-xiang-jie-ju-xiang/" title="DockerËØ¶Ëß£(Â∑®ËØ¶)">http://godhearing.cn/2021/03/09/docker-xiang-jie-ju-xiang/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> unless otherwise stated.</li></ul></section></article><div class="post-nav"><div class="post-nav-item"></div><div class="post-nav-item"><a class="post-nav-next" href="/2021/03/05/nginx-kua-yu-pei-zhi/" rel="next" title="nginxË∑®ÂüüÈÖçÁΩÆ"><span class="post-nav-text">nginxË∑®ÂüüÈÖçÁΩÆ</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div id="comment"><div class="comment-tooltip text-center"><span>ÁÇπÂáªÊåâÈíÆË∑≥ËΩ¨ GitHub Issues ËØÑËÆ∫„ÄÇ</span><br><span>Ëã•Ê≤°ÊúâÊú¨Êñá IssueÔºåÊÇ®ÂèØ‰ª•‰ΩøÁî® Comment Ê®°ÁâàÊñ∞Âª∫„ÄÇ</span><br><a class="hty-button hty-button--raised" id="github-issues" target="_blank" rel="noopener" href="https://github.com/YunYouJun/yunyoujun.github.io/issues?q=is:issue+DockerËØ¶Ëß£(Â∑®ËØ¶)">GitHub Issues</a><a class="hty-button hty-button--raised" id="github-discussions" target="_blank" rel="noopener" href="https://github.com/YunYouJun/yunyoujun.github.io/discussions/new">GitHub Discussions</a></div></div></main><footer class="sidebar-translate" id="footer"><div class="beian"><a rel="noopener" href="https://beian.miit.gov.cn/" target="_blank">ÂÜÄICPÂ§á2021002475Âè∑-1</a></div><div class="copyright"><span>&copy; 2017 ‚Äì 2021 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> Â§© Âê¨</span></div><div class="powered"><span>Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> v5.3.0</span><span class="footer-separator">|</span><span>Theme - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.4.0</span></div><div class="live_time"><span>Êú¨ÂçöÂÆ¢Â∑≤ËêåËêåÂìíÂú∞ËøêË°å</span><span id="display_live_time"></span><span class="moe-text">(‚óè'‚ó°'‚óè)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2017-07-12T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " Â§© " + passHour + " Â∞èÊó∂ " + passMinute + " ÂàÜ " + passSecond + " Áßí";
}
blog_live_time();
</script></div></footer><a class="hty-icon-button" id="goUp" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#4e72b8" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="Search"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="/js/search/local-search.js" defer></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="ÂºÄÂßãÈù¢ÂêëÊêúÁ¥¢ÂºïÊìéÁºñÁ®ã" value=""></div><div id="local-search-result"></div></div><script>const date = new Date();
const today = (date.getMonth() + 1) + "-" + date.getDate()
const mourn_days = ["4-4","9-18"]
if (mourn_days.includes(today)) {
  document.documentElement.style.filter = "grayscale(1)";
}</script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":250,"height":500},"mobile":{"show":true},"rect":"opacity:0.7","log":false,"pluginJsPath":"lib/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>